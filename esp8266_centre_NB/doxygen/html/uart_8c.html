<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ESP8266 Centre + NB: uart.c 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ESP8266 Centre + NB
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li><a href="pages.html"><span>相关页面</span></a></li>
      <li><a href="modules.html"><span>模块</span></a></li>
      <li><a href="annotated.html"><span>结构体</span></a></li>
      <li class="current"><a href="files.html"><span>文件</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>文件列表</span></a></li>
      <li><a href="globals.html"><span>全局定义</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_42602b08a33e0dfa14359b79ea45cafe.html">user</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">宏定义</a> &#124;
<a href="#func-members">函数</a> &#124;
<a href="#var-members">变量</a>  </div>
  <div class="headertitle">
<div class="title">uart.c 文件参考</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ets__sys_8h_source.html">ets_sys.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="osapi_8h_source.html">osapi.h</a>&quot;</code><br/>
<code>#include &quot;driver/uart.h&quot;</code><br/>
<code>#include &quot;driver/uart_register.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="mem_8h_source.html">mem.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="os__type_8h_source.html">os_type.h</a>&quot;</code><br/>
<code>#include &quot;room_info.h&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
uart.c 的引用(Include)关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c__incl.png" border="0" usemap="#uart_8c" alt=""/></div>
<map name="uart_8c" id="uart_8c">
<area shape="rect" id="node2" href="ets__sys_8h.html" title="ets_sys.h" alt="" coords="391,155,469,181"/><area shape="rect" id="node5" href="osapi_8h.html" title="osapi.h" alt="" coords="59,80,123,107"/><area shape="rect" id="node10" href="mem_8h.html" title="mem.h" alt="" coords="476,80,539,107"/><area shape="rect" id="node11" href="os__type_8h.html" title="os_type.h" alt="" coords="563,80,641,107"/><area shape="rect" id="node3" href="c__types_8h.html" title="c_types.h" alt="" coords="336,229,415,256"/><area shape="rect" id="node4" href="eagle__soc_8h.html" title="eagle_soc.h" alt="" coords="439,229,531,256"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:ac8ab53bbc13f04a3bc800b062b66f7a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ac8ab53bbc13f04a3bc800b062b66f7a9">uart_recvTaskPrio</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ac8ab53bbc13f04a3bc800b062b66f7a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ba3d87871833cff3d51bcc96755e57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ae3ba3d87871833cff3d51bcc96755e57">uart_recvTaskQueueLen</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ae3ba3d87871833cff3d51bcc96755e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49606be7356624568932ec81c0d429f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a49606be7356624568932ec81c0d429f4">DBG</a></td></tr>
<tr class="separator:a49606be7356624568932ec81c0d429f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abddf9d52cd37589aea69c8a97255ec98"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#abddf9d52cd37589aea69c8a97255ec98">DBG1</a>&#160;&#160;&#160;<a class="el" href="uart_8c.html#a0edeee3a750f552891982ee1e4590494">uart1_sendStr_no_wait</a></td></tr>
<tr class="separator:abddf9d52cd37589aea69c8a97255ec98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c788073350afe9c1b4481d6c577a6f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a5c788073350afe9c1b4481d6c577a6f8">DBG2</a>&#160;&#160;&#160;<a class="el" href="osapi_8h.html#a751d204d0c7e166a527475d79e803454">os_printf</a></td></tr>
<tr class="separator:a5c788073350afe9c1b4481d6c577a6f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:aeb899bf88fe84dd61c113b850c2f0a2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#aeb899bf88fe84dd61c113b850c2f0a2d">NB_RxMsgHandler</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *nb_msg)</td></tr>
<tr class="memdesc:aeb899bf88fe84dd61c113b850c2f0a2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">NB消息处理函数  <a href="#aeb899bf88fe84dd61c113b850c2f0a2d">更多...</a><br/></td></tr>
<tr class="separator:aeb899bf88fe84dd61c113b850c2f0a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a899cd55c7d84717f3e869e4ee5bfda84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a899cd55c7d84717f3e869e4ee5bfda84">uart0_rx_intr_handler</a> (void *para)</td></tr>
<tr class="separator:a899cd55c7d84717f3e869e4ee5bfda84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a489b77b74dfee22fd4f0c5323ab44da6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6">uart_config</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no)</td></tr>
<tr class="separator:a489b77b74dfee22fd4f0c5323ab44da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40bca7ca9b269f93bc9f17924a38fbe0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4">STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart, <a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> TxChar)</td></tr>
<tr class="separator:a40bca7ca9b269f93bc9f17924a38fbe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421a8c124d7ff816cd70587fffc64d0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a421a8c124d7ff816cd70587fffc64d0e">uart1_write_char</a> (char c)</td></tr>
<tr class="separator:a421a8c124d7ff816cd70587fffc64d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6574203b3e972e584ebf57acb04f6b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ac6574203b3e972e584ebf57acb04f6b4">uart0_write_char_no_wait</a> (char c)</td></tr>
<tr class="separator:ac6574203b3e972e584ebf57acb04f6b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f1c1c2a25d4336eb804da28ed99f7e"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a87f1c1c2a25d4336eb804da28ed99f7e">uart0_tx_buffer</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *buf, <a class="el" href="c__types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> len)</td></tr>
<tr class="separator:a87f1c1c2a25d4336eb804da28ed99f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3679d0793ad30e2656d4dc423104674e"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a3679d0793ad30e2656d4dc423104674e">uart1_tx_buffer</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *buf, <a class="el" href="c__types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> len)</td></tr>
<tr class="separator:a3679d0793ad30e2656d4dc423104674e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac87a7da6336b797ad954cee8400bb3e"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#aac87a7da6336b797ad954cee8400bb3e">uart0_sendStr</a> (const char *str)</td></tr>
<tr class="separator:aac87a7da6336b797ad954cee8400bb3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f633ba06e94e439008a2ee4178aae1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#af3f633ba06e94e439008a2ee4178aae1">at_port_print</a> (const char *str) __attribute__((alias(&quot;uart0_sendStr&quot;)))</td></tr>
<tr class="separator:af3f633ba06e94e439008a2ee4178aae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99582b04a744bf2dfb261ab045e8f6bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a99582b04a744bf2dfb261ab045e8f6bd">uart_recvTask</a> (<a class="el" href="os__type_8h.html#a31c610c4705c01b07e272852f4bd17ca">os_event_t</a> *events)</td></tr>
<tr class="separator:a99582b04a744bf2dfb261ab045e8f6bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4416966da7cba189e7998334e2a0bee"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#af4416966da7cba189e7998334e2a0bee">uart_init</a> (<a class="el" href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545d">UartBautRate</a> uart0_br, <a class="el" href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545d">UartBautRate</a> uart1_br)</td></tr>
<tr class="separator:af4416966da7cba189e7998334e2a0bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a9e8dca40ebbeea858ce8f081c06cf"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a15a9e8dca40ebbeea858ce8f081c06cf">uart_reattach</a> ()</td></tr>
<tr class="separator:a15a9e8dca40ebbeea858ce8f081c06cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a049fe09b0bc6d87a403c418e5f681945"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4">STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a049fe09b0bc6d87a403c418e5f681945">uart_tx_one_char_no_wait</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart, <a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> TxChar)</td></tr>
<tr class="separator:a049fe09b0bc6d87a403c418e5f681945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b784ffad0b94934dc831c8ce1aa1a54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4">STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a8b784ffad0b94934dc831c8ce1aa1a54">uart0_tx_one_char_no_wait</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> TxChar)</td></tr>
<tr class="separator:a8b784ffad0b94934dc831c8ce1aa1a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0edeee3a750f552891982ee1e4590494"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a0edeee3a750f552891982ee1e4590494">uart1_sendStr_no_wait</a> (const char *str)</td></tr>
<tr class="separator:a0edeee3a750f552891982ee1e4590494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66498d65854712e438ab711b511e0155"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a66498d65854712e438ab711b511e0155">uart_rx_intr_disable</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no)</td></tr>
<tr class="separator:a66498d65854712e438ab711b511e0155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb32bf5331e41dea87a773842649535"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#adbb32bf5331e41dea87a773842649535">uart_rx_intr_enable</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no)</td></tr>
<tr class="separator:adbb32bf5331e41dea87a773842649535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae515be6247217577f929156f37332723"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ae515be6247217577f929156f37332723">uart0_write_char</a> (char c)</td></tr>
<tr class="separator:ae515be6247217577f929156f37332723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03292825802b967e1503e70420346faa"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a03292825802b967e1503e70420346faa">UART_SetWordLength</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no, <a class="el" href="driver_2uart_8h.html#a1a800ab02eb9805becdea40a047e2e25">UartBitsNum4Char</a> len)</td></tr>
<tr class="separator:a03292825802b967e1503e70420346faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c77c5c1941e1fe93c92747d386d6f1"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a59c77c5c1941e1fe93c92747d386d6f1">UART_SetStopBits</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no, <a class="el" href="driver_2uart_8h.html#a0ecb1f01cc124cfef8bb7dbfe6c9c1d5">UartStopBitsNum</a> bit_num)</td></tr>
<tr class="separator:a59c77c5c1941e1fe93c92747d386d6f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa11a3c29be53150cac49cc16cf0f222e"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#aa11a3c29be53150cac49cc16cf0f222e">UART_SetLineInverse</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no, <a class="el" href="driver_2uart_8h.html#ab469271d6668e2a8406727f02a0127b3">UART_LineLevelInverse</a> inverse_mask)</td></tr>
<tr class="separator:aa11a3c29be53150cac49cc16cf0f222e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ed2c7a5cea3b89d26ebbd921b7b64a9"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a8ed2c7a5cea3b89d26ebbd921b7b64a9">UART_SetParity</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no, <a class="el" href="driver_2uart_8h.html#acb045cca45821ff8ef1e749914313198">UartParityMode</a> Parity_mode)</td></tr>
<tr class="separator:a8ed2c7a5cea3b89d26ebbd921b7b64a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af275ab2b2b288f6b6dee19efec769303"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#af275ab2b2b288f6b6dee19efec769303">UART_SetBaudrate</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no, <a class="el" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> baud_rate)</td></tr>
<tr class="separator:af275ab2b2b288f6b6dee19efec769303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa260f8cc38438aef038bfc3700461c3d"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#aa260f8cc38438aef038bfc3700461c3d">UART_SetFlowCtrl</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no, <a class="el" href="driver_2uart_8h.html#a725055e078e0a5737bf6b27ee4c02703">UART_HwFlowCtrl</a> flow_ctrl, <a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> rx_thresh)</td></tr>
<tr class="separator:aa260f8cc38438aef038bfc3700461c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460e7b30e59165c59ea6e4c2124085d2"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a460e7b30e59165c59ea6e4c2124085d2">UART_WaitTxFifoEmpty</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no, <a class="el" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> time_out_us)</td></tr>
<tr class="separator:a460e7b30e59165c59ea6e4c2124085d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10234052f8f75ab50480aae6e3d88634"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a10234052f8f75ab50480aae6e3d88634">UART_CheckOutputFinished</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no, <a class="el" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> time_out_us)</td></tr>
<tr class="separator:a10234052f8f75ab50480aae6e3d88634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac26664d38cc428d7fa90d948f7fd0b"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#adac26664d38cc428d7fa90d948f7fd0b">UART_ResetFifo</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no)</td></tr>
<tr class="separator:adac26664d38cc428d7fa90d948f7fd0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed35c7af52ca37f3b8a619681bf550d"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a6ed35c7af52ca37f3b8a619681bf550d">UART_ClearIntrStatus</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no, <a class="el" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> clr_mask)</td></tr>
<tr class="separator:a6ed35c7af52ca37f3b8a619681bf550d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a848b658530b38972f0b7de8d941ff375"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a848b658530b38972f0b7de8d941ff375">UART_SetIntrEna</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no, <a class="el" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> ena_mask)</td></tr>
<tr class="separator:a848b658530b38972f0b7de8d941ff375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a049f0d5eba74bf0f2fb7021964d6af54"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a049f0d5eba74bf0f2fb7021964d6af54">UART_SetPrintPort</a> (<a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no)</td></tr>
<tr class="separator:a049f0d5eba74bf0f2fb7021964d6af54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04be0eb8c6c4685b81b32b20bb1cfa72"><td class="memItemLeft" align="right" valign="top">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a04be0eb8c6c4685b81b32b20bb1cfa72">uart_init_2</a> (<a class="el" href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545d">UartBautRate</a> uart0_br, <a class="el" href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545d">UartBautRate</a> uart1_br)</td></tr>
<tr class="separator:a04be0eb8c6c4685b81b32b20bb1cfa72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
变量</h2></td></tr>
<tr class="memitem:abe863f238818002e1dd96aad8a48c927"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_uart_device.html">UartDevice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a></td></tr>
<tr class="separator:abe863f238818002e1dd96aad8a48c927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab081a3724478b5ab806f8729fa10def7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> struct <a class="el" href="struct_uart_buffer.html">UartBuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ab081a3724478b5ab806f8729fa10def7">pTxBuffer</a> = <a class="el" href="c__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:ab081a3724478b5ab806f8729fa10def7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae856c1f6c1dad0036ae5fb7e88eeed8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> struct <a class="el" href="struct_uart_buffer.html">UartBuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#ae856c1f6c1dad0036ae5fb7e88eeed8b">pRxBuffer</a> = <a class="el" href="c__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:ae856c1f6c1dad0036ae5fb7e88eeed8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7133fc66b588d16e614425d5985cacba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="os__type_8h.html#a31c610c4705c01b07e272852f4bd17ca">os_event_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uart_8c.html#a7133fc66b588d16e614425d5985cacba">uart_recvTaskQueue</a> [<a class="el" href="uart_8c.html#ae3ba3d87871833cff3d51bcc96755e57">uart_recvTaskQueueLen</a>]</td></tr>
<tr class="separator:a7133fc66b588d16e614425d5985cacba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">宏定义说明</h2>
<a class="anchor" id="ac8ab53bbc13f04a3bc800b062b66f7a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uart_recvTaskPrio&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae3ba3d87871833cff3d51bcc96755e57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uart_recvTaskQueueLen&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a49606be7356624568932ec81c0d429f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBG</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abddf9d52cd37589aea69c8a97255ec98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBG1&#160;&#160;&#160;<a class="el" href="uart_8c.html#a0edeee3a750f552891982ee1e4590494">uart1_sendStr_no_wait</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5c788073350afe9c1b4481d6c577a6f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DBG2&#160;&#160;&#160;<a class="el" href="osapi_8h.html#a751d204d0c7e166a527475d79e803454">os_printf</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a class="anchor" id="aeb899bf88fe84dd61c113b850c2f0a2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NB_RxMsgHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *&#160;</td>
          <td class="paramname"><em>nb_msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NB消息处理函数 </p>
<p>NB消息有以下几种类型：</p>
<ul>
<li>动作指令的执行情况。如“OK”、“ERROR”</li>
<li>查询指令的查询结果</li>
</ul>
<p>云端下发的控制命令。以“+NNMI:”为前缀</p>
<p>当NB发送消息来的时候，我们先判断在接收到这条消息之前有没有发送过指令，即判断响应标志位 response_flag是否被置位，再决定是否去匹配响应消息。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nb_msg</td><td>串口接收到的NB消息 </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                                     {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nb__bc35_8c.html#ae5899d940be94e4e73d8eb45011167f1">response_flag</a> != 0 ) { <span class="comment">/* 等待响应匹配 */</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <a class="code" href="driver_2uart_8h.html#af5b6deb2bb0cd122c3384bf552dd121c">ESP_DEBUG</a>(<span class="stringliteral">&quot;response_flag = 1&quot;</span>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span> (0 != <a class="code" href="osapi_8h.html#a51bc56747f146b58e4bbbef0f4b62230">os_strstr</a>(nb_msg, <a class="code" href="nb__bc35_8c.html#a54bb5bc6dc3de1c3aced6e63dfa6b481">response_msg</a>)) {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <a class="code" href="driver_2uart_8h.html#af5b6deb2bb0cd122c3384bf552dd121c">ESP_DEBUG</a>(<span class="stringliteral">&quot;OK! response message parse!&quot;</span>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <a class="code" href="osapi_8h.html#a8b6e05160473ebb1f7f87ca232f87c7b">os_memset</a>(<a class="code" href="nb__bc35_8c.html#a54bb5bc6dc3de1c3aced6e63dfa6b481">response_msg</a>, 0, <span class="keyword">sizeof</span>(<a class="code" href="nb__bc35_8c.html#a54bb5bc6dc3de1c3aced6e63dfa6b481">response_msg</a>));</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <a class="code" href="nb__bc35_8c.html#ae5899d940be94e4e73d8eb45011167f1">response_flag</a> = 0;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <a class="code" href="nb__bc35_8c.html#a2cf1c3f67e168aee4fe9c184c9809307">NB_Init</a>();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <a class="code" href="driver_2uart_8h.html#af5b6deb2bb0cd122c3384bf552dd121c">ESP_DEBUG</a>(<span class="stringliteral">&quot;ERROR! response message parse failed&quot;</span>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <a class="code" href="driver_2uart_8h.html#af5b6deb2bb0cd122c3384bf552dd121c">ESP_DEBUG</a>(<span class="stringliteral">&quot;response_flag = 0&quot;</span>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="comment">/* 匹配下发消息前缀 */</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="comment">/* 命令下发 */</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="ttc" id="nb__bc35_8c_html_a54bb5bc6dc3de1c3aced6e63dfa6b481"><div class="ttname"><a href="nb__bc35_8c.html#a54bb5bc6dc3de1c3aced6e63dfa6b481">response_msg</a></div><div class="ttdeci">uint8 response_msg[128]</div><div class="ttdef"><b>Definition:</b> nb_bc35.c:23</div></div>
<div class="ttc" id="nb__bc35_8c_html_ae5899d940be94e4e73d8eb45011167f1"><div class="ttname"><a href="nb__bc35_8c.html#ae5899d940be94e4e73d8eb45011167f1">response_flag</a></div><div class="ttdeci">uint8 response_flag</div><div class="ttdef"><b>Definition:</b> nb_bc35.c:22</div></div>
<div class="ttc" id="driver_2uart_8h_html_af5b6deb2bb0cd122c3384bf552dd121c"><div class="ttname"><a href="driver_2uart_8h.html#af5b6deb2bb0cd122c3384bf552dd121c">ESP_DEBUG</a></div><div class="ttdeci">#define ESP_DEBUG(fmt,...)</div><div class="ttdef"><b>Definition:</b> driver/uart.h:35</div></div>
<div class="ttc" id="osapi_8h_html_a8b6e05160473ebb1f7f87ca232f87c7b"><div class="ttname"><a href="osapi_8h.html#a8b6e05160473ebb1f7f87ca232f87c7b">os_memset</a></div><div class="ttdeci">#define os_memset</div><div class="ttdef"><b>Definition:</b> osapi.h:38</div></div>
<div class="ttc" id="osapi_8h_html_a51bc56747f146b58e4bbbef0f4b62230"><div class="ttname"><a href="osapi_8h.html#a51bc56747f146b58e4bbbef0f4b62230">os_strstr</a></div><div class="ttdeci">#define os_strstr</div><div class="ttdef"><b>Definition:</b> osapi.h:46</div></div>
<div class="ttc" id="nb__bc35_8c_html_a2cf1c3f67e168aee4fe9c184c9809307"><div class="ttname"><a href="nb__bc35_8c.html#a2cf1c3f67e168aee4fe9c184c9809307">NB_Init</a></div><div class="ttdeci">void NB_Init(void)</div><div class="ttdef"><b>Definition:</b> nb_bc35.c:140</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_aeb899bf88fe84dd61c113b850c2f0a2d_cgraph.png" border="0" usemap="#uart_8c_aeb899bf88fe84dd61c113b850c2f0a2d_cgraph" alt=""/></div>
<map name="uart_8c_aeb899bf88fe84dd61c113b850c2f0a2d_cgraph" id="uart_8c_aeb899bf88fe84dd61c113b850c2f0a2d_cgraph">
<area shape="rect" id="node2" href="nb__bc35_8c.html#a2cf1c3f67e168aee4fe9c184c9809307" title="NB_Init" alt="" coords="185,5,249,32"/><area shape="rect" id="node3" href="nb__bc35_8c.html#a566469396821ae4c881b7b558204f68f" title="向NB模组发送指令 " alt="" coords="297,5,401,32"/><area shape="rect" id="node4" href="driver_2uart_8h.html#a279da46b2371c1ec768cde7e525725f2" title="uart1_tx_buffer" alt="" coords="449,5,556,32"/><area shape="rect" id="node5" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="604,5,727,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a899cd55c7d84717f3e869e4ee5bfda84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void uart0_rx_intr_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>para</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">/* uart0 and uart1 intr combine togther, when interrupt occur, see reg 0x3ff20020, bit2, bit0 represents</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">    * uart1 and uart0 respectively</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> RcvChar;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> uart_no = <a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>;<span class="comment">//UartDev.buff_uart_no;</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> fifo_len = 0;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> buf_idx = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> <a class="code" href="include_2room__info_8h.html#ad7b1d9778c77ed81a3b485cc0a378ee0">temp</a>,cnt;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">//RcvMsgBuff *pRxBuff = (RcvMsgBuff *)para;</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">/*ATTENTION:*/</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">/*IN NON-OS VERSION SDK, DO NOT USE &quot;ICACHE_FLASH_ATTR&quot; FUNCTIONS IN THE WHOLE HANDLER PROCESS*/</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">/*ALL THE FUNCTIONS CALLED IN INTERRUPT HANDLER MUST BE DECLARED IN RAM */</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">/*IF NOT , POST AN EVENT AND PROCESS IN SYSTEM TASK */</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="driver_2uart__register_8h.html#a26bdc6a10434604f657884f01e76a9fe">UART_FRM_ERR_INT_ST</a> == (<a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aff5fa3feb80c0237201d1ca3a8615d59">UART_INT_ST</a>(uart_no)) &amp; <a class="code" href="driver_2uart__register_8h.html#a26bdc6a10434604f657884f01e76a9fe">UART_FRM_ERR_INT_ST</a>)){</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="uart_8c.html#abddf9d52cd37589aea69c8a97255ec98">DBG1</a>(<span class="stringliteral">&quot;FRM_ERR\r\n&quot;</span>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#a027d84148bd462db117ed1865be9f3b6">UART_FRM_ERR_INT_CLR</a>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="driver_2uart__register_8h.html#ac95a6733a87d61884e3aa4d520d2c1f6">UART_RXFIFO_FULL_INT_ST</a> == (<a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aff5fa3feb80c0237201d1ca3a8615d59">UART_INT_ST</a>(uart_no)) &amp; <a class="code" href="driver_2uart__register_8h.html#ac95a6733a87d61884e3aa4d520d2c1f6">UART_RXFIFO_FULL_INT_ST</a>)){</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="uart_8c.html#a49606be7356624568932ec81c0d429f4">DBG</a>(<span class="stringliteral">&quot;f&quot;</span>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="uart_8c.html#a66498d65854712e438ab711b511e0155">uart_rx_intr_disable</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>), <a class="code" href="driver_2uart__register_8h.html#a9807543880b8867e285033b87c721324">UART_RXFIFO_FULL_INT_CLR</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="user__interface_8h.html#adab1155f3a463f2b05a9bde65b37514f">system_os_post</a>(<a class="code" href="uart_8c.html#ac8ab53bbc13f04a3bc800b062b66f7a9">uart_recvTaskPrio</a>, 0, 0);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="driver_2uart__register_8h.html#adb29e36bfe993435034dc8cbb0fd2d50">UART_RXFIFO_TOUT_INT_ST</a> == (<a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aff5fa3feb80c0237201d1ca3a8615d59">UART_INT_ST</a>(uart_no)) &amp; <a class="code" href="driver_2uart__register_8h.html#adb29e36bfe993435034dc8cbb0fd2d50">UART_RXFIFO_TOUT_INT_ST</a>)){</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="uart_8c.html#a49606be7356624568932ec81c0d429f4">DBG</a>(<span class="stringliteral">&quot;t&quot;</span>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="uart_8c.html#a66498d65854712e438ab711b511e0155">uart_rx_intr_disable</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>), <a class="code" href="driver_2uart__register_8h.html#a2cd7fe69ace8fd91a1e79c798c3c7688">UART_RXFIFO_TOUT_INT_CLR</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="user__interface_8h.html#adab1155f3a463f2b05a9bde65b37514f">system_os_post</a>(<a class="code" href="uart_8c.html#ac8ab53bbc13f04a3bc800b062b66f7a9">uart_recvTaskPrio</a>, 0, 0);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="driver_2uart__register_8h.html#a58d031bd8ee3907b9e00761696cd352b">UART_TXFIFO_EMPTY_INT_ST</a> == (<a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aff5fa3feb80c0237201d1ca3a8615d59">UART_INT_ST</a>(uart_no)) &amp; <a class="code" href="driver_2uart__register_8h.html#a58d031bd8ee3907b9e00761696cd352b">UART_TXFIFO_EMPTY_INT_ST</a>)){</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="uart_8c.html#a49606be7356624568932ec81c0d429f4">DBG</a>(<span class="stringliteral">&quot;e&quot;</span>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">/* to output uart data from uart buffer directly in empty interrupt handler*/</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">/*instead of processing in system event, in order not to wait for current task/function to quit */</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">/*ATTENTION:*/</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">/*IN NON-OS VERSION SDK, DO NOT USE &quot;ICACHE_FLASH_ATTR&quot; FUNCTIONS IN THE WHOLE HANDLER PROCESS*/</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">/*ALL THE FUNCTIONS CALLED IN INTERRUPT HANDLER MUST BE DECLARED IN RAM */</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>), <a class="code" href="driver_2uart__register_8h.html#aa1ab82a46ab6ea6c6fa443acb2301a2e">UART_TXFIFO_EMPTY_INT_ENA</a>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">    #if UART_BUFF_EN</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor"></span>        <a class="code" href="driver_2uart_8h.html#ae4702ed894330fc8b2099cb90a5bf4aa">tx_start_uart_buffer</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor"></span>        <span class="comment">//system_os_post(uart_recvTaskPrio, 1, 0);</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#a5a3496dae81512d62d02450b408f76d2">UART_TXFIFO_EMPTY_INT_CLR</a>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="driver_2uart__register_8h.html#a300754c230af410b7b0d6099a680b465">UART_RXFIFO_OVF_INT_ST</a>  == (<a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aff5fa3feb80c0237201d1ca3a8615d59">UART_INT_ST</a>(uart_no)) &amp; <a class="code" href="driver_2uart__register_8h.html#a300754c230af410b7b0d6099a680b465">UART_RXFIFO_OVF_INT_ST</a>)){</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#a003d91828ec5cfe9472adc0a97c9a625">UART_RXFIFO_OVF_INT_CLR</a>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="uart_8c.html#abddf9d52cd37589aea69c8a97255ec98">DBG1</a>(<span class="stringliteral">&quot;RX OVF!!\r\n&quot;</span>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;}</div>
<div class="ttc" id="user__interface_8h_html_adab1155f3a463f2b05a9bde65b37514f"><div class="ttname"><a href="user__interface_8h.html#adab1155f3a463f2b05a9bde65b37514f">system_os_post</a></div><div class="ttdeci">bool system_os_post(uint8 prio, os_signal_t sig, os_param_t par)</div></div>
<div class="ttc" id="eagle__soc_8h_html_a14c110c5360780defb1aa84ff53933d3"><div class="ttname"><a href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a></div><div class="ttdeci">#define READ_PERI_REG(addr)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:68</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac6ce538b7a0389b41640e89990d0d76d"><div class="ttname"><a href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a></div><div class="ttdeci">#define UART_INT_ENA(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:57</div></div>
<div class="ttc" id="uart_8c_html_a66498d65854712e438ab711b511e0155"><div class="ttname"><a href="uart_8c.html#a66498d65854712e438ab711b511e0155">uart_rx_intr_disable</a></div><div class="ttdeci">void uart_rx_intr_disable(uint8 uart_no)</div><div class="ttdef"><b>Definition:</b> uart.c:649</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a003d91828ec5cfe9472adc0a97c9a625"><div class="ttname"><a href="driver_2uart__register_8h.html#a003d91828ec5cfe9472adc0a97c9a625">UART_RXFIFO_OVF_INT_CLR</a></div><div class="ttdeci">#define UART_RXFIFO_OVF_INT_CLR</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:73</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aff5fa3feb80c0237201d1ca3a8615d59"><div class="ttname"><a href="driver_2uart__register_8h.html#aff5fa3feb80c0237201d1ca3a8615d59">UART_INT_ST</a></div><div class="ttdeci">#define UART_INT_ST(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:46</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac95a6733a87d61884e3aa4d520d2c1f6"><div class="ttname"><a href="driver_2uart__register_8h.html#ac95a6733a87d61884e3aa4d520d2c1f6">UART_RXFIFO_FULL_INT_ST</a></div><div class="ttdeci">#define UART_RXFIFO_FULL_INT_ST</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:55</div></div>
<div class="ttc" id="eagle__soc_8h_html_a771037d188a1c185dd90c2019a896d03"><div class="ttname"><a href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a></div><div class="ttdeci">#define WRITE_PERI_REG(addr, val)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:69</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a5a3496dae81512d62d02450b408f76d2"><div class="ttname"><a href="driver_2uart__register_8h.html#a5a3496dae81512d62d02450b408f76d2">UART_TXFIFO_EMPTY_INT_CLR</a></div><div class="ttdeci">#define UART_TXFIFO_EMPTY_INT_CLR</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:76</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a58d031bd8ee3907b9e00761696cd352b"><div class="ttname"><a href="driver_2uart__register_8h.html#a58d031bd8ee3907b9e00761696cd352b">UART_TXFIFO_EMPTY_INT_ST</a></div><div class="ttdeci">#define UART_TXFIFO_EMPTY_INT_ST</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:54</div></div>
<div class="ttc" id="eagle__soc_8h_html_a49d2f71a1c594fe3aaf913ba9de688f9"><div class="ttname"><a href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a></div><div class="ttdeci">#define CLEAR_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:70</div></div>
<div class="ttc" id="driver_2uart_8h_html_ae4702ed894330fc8b2099cb90a5bf4aa"><div class="ttname"><a href="driver_2uart_8h.html#ae4702ed894330fc8b2099cb90a5bf4aa">tx_start_uart_buffer</a></div><div class="ttdeci">void tx_start_uart_buffer(uint8 uart_no)</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a26bdc6a10434604f657884f01e76a9fe"><div class="ttname"><a href="driver_2uart__register_8h.html#a26bdc6a10434604f657884f01e76a9fe">UART_FRM_ERR_INT_ST</a></div><div class="ttdeci">#define UART_FRM_ERR_INT_ST</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:52</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a2cd7fe69ace8fd91a1e79c798c3c7688"><div class="ttname"><a href="driver_2uart__register_8h.html#a2cd7fe69ace8fd91a1e79c798c3c7688">UART_RXFIFO_TOUT_INT_CLR</a></div><div class="ttdeci">#define UART_RXFIFO_TOUT_INT_CLR</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:69</div></div>
<div class="ttc" id="c__types_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdef"><b>Definition:</b> c_types.h:43</div></div>
<div class="ttc" id="include_2room__info_8h_html_ad7b1d9778c77ed81a3b485cc0a378ee0"><div class="ttname"><a href="include_2room__info_8h.html#ad7b1d9778c77ed81a3b485cc0a378ee0">temp</a></div><div class="ttdeci">uint8 temp</div><div class="ttdef"><b>Definition:</b> room_info.c:5</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a9807543880b8867e285033b87c721324"><div class="ttname"><a href="driver_2uart__register_8h.html#a9807543880b8867e285033b87c721324">UART_RXFIFO_FULL_INT_CLR</a></div><div class="ttdeci">#define UART_RXFIFO_FULL_INT_CLR</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:77</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_adb29e36bfe993435034dc8cbb0fd2d50"><div class="ttname"><a href="driver_2uart__register_8h.html#adb29e36bfe993435034dc8cbb0fd2d50">UART_RXFIFO_TOUT_INT_ST</a></div><div class="ttdeci">#define UART_RXFIFO_TOUT_INT_ST</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:47</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0508661f121639ffdee7de2353a0def2"><div class="ttname"><a href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a></div><div class="ttdeci">#define UART0</div><div class="ttdef"><b>Definition:</b> driver/uart.h:56</div></div>
<div class="ttc" id="uart_8c_html_ac8ab53bbc13f04a3bc800b062b66f7a9"><div class="ttname"><a href="uart_8c.html#ac8ab53bbc13f04a3bc800b062b66f7a9">uart_recvTaskPrio</a></div><div class="ttdeci">#define uart_recvTaskPrio</div><div class="ttdef"><b>Definition:</b> uart.c:50</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a300754c230af410b7b0d6099a680b465"><div class="ttname"><a href="driver_2uart__register_8h.html#a300754c230af410b7b0d6099a680b465">UART_RXFIFO_OVF_INT_ST</a></div><div class="ttdeci">#define UART_RXFIFO_OVF_INT_ST</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:51</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a4a450c7ddda3d960c70a0ceac5e19b9b"><div class="ttname"><a href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a></div><div class="ttdeci">#define UART_INT_CLR(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:68</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a027d84148bd462db117ed1865be9f3b6"><div class="ttname"><a href="driver_2uart__register_8h.html#a027d84148bd462db117ed1865be9f3b6">UART_FRM_ERR_INT_CLR</a></div><div class="ttdeci">#define UART_FRM_ERR_INT_CLR</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:74</div></div>
<div class="ttc" id="uart_8c_html_a49606be7356624568932ec81c0d429f4"><div class="ttname"><a href="uart_8c.html#a49606be7356624568932ec81c0d429f4">DBG</a></div><div class="ttdeci">#define DBG</div><div class="ttdef"><b>Definition:</b> uart.c:54</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aa1ab82a46ab6ea6c6fa443acb2301a2e"><div class="ttname"><a href="driver_2uart__register_8h.html#aa1ab82a46ab6ea6c6fa443acb2301a2e">UART_TXFIFO_EMPTY_INT_ENA</a></div><div class="ttdeci">#define UART_TXFIFO_EMPTY_INT_ENA</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:65</div></div>
<div class="ttc" id="uart_8c_html_abddf9d52cd37589aea69c8a97255ec98"><div class="ttname"><a href="uart_8c.html#abddf9d52cd37589aea69c8a97255ec98">DBG1</a></div><div class="ttdeci">#define DBG1</div><div class="ttdef"><b>Definition:</b> uart.c:55</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a899cd55c7d84717f3e869e4ee5bfda84_cgraph.png" border="0" usemap="#uart_8c_a899cd55c7d84717f3e869e4ee5bfda84_cgraph" alt=""/></div>
<map name="uart_8c_a899cd55c7d84717f3e869e4ee5bfda84_cgraph" id="uart_8c_a899cd55c7d84717f3e869e4ee5bfda84_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#a66498d65854712e438ab711b511e0155" title="uart_rx_intr_disable" alt="" coords="196,5,331,32"/><area shape="rect" id="node3" href="user__interface_8h.html#adab1155f3a463f2b05a9bde65b37514f" title="system_os_post" alt="" coords="204,56,323,83"/><area shape="rect" id="node4" href="driver_2uart_8h.html#ae4702ed894330fc8b2099cb90a5bf4aa" title="tx_start_uart_buffer" alt="" coords="197,107,330,133"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a899cd55c7d84717f3e869e4ee5bfda84_icgraph.png" border="0" usemap="#uart_8c_a899cd55c7d84717f3e869e4ee5bfda84_icgraph" alt=""/></div>
<map name="uart_8c_a899cd55c7d84717f3e869e4ee5bfda84_icgraph" id="uart_8c_a899cd55c7d84717f3e869e4ee5bfda84_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6" title="uart_config" alt="" coords="196,56,281,83"/><area shape="rect" id="node3" href="uart_8c.html#af4416966da7cba189e7998334e2a0bee" title="uart_init" alt="" coords="337,31,405,57"/><area shape="rect" id="node6" href="uart_8c.html#a04be0eb8c6c4685b81b32b20bb1cfa72" title="uart_init_2" alt="" coords="329,81,412,108"/><area shape="rect" id="node4" href="uart_8c.html#a15a9e8dca40ebbeea858ce8f081c06cf" title="uart_reattach" alt="" coords="460,5,559,32"/><area shape="rect" id="node5" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="474,56,545,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a489b77b74dfee22fd4f0c5323ab44da6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> uart_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (uart_no == <a class="code" href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a>){</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="eagle__soc_8h.html#a06a669a21ddeb7fbee7cca6703ca34ac">PIN_FUNC_SELECT</a>(<a class="code" href="eagle__soc_8h.html#a7b7928aa333ebb8c2961b32522ffbb3f">PERIPHS_IO_MUX_GPIO2_U</a>, <a class="code" href="driver_2uart_8h.html#aeeaeca83acd474324668f62a4c2b0bcc">FUNC_U1TXD_BK</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="comment">/* rcv_buff size if 0x100 */</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="ets__sys_8h.html#ae05cdf8bb2481e44ebf01440070f0c38">ETS_UART_INTR_ATTACH</a>(<a class="code" href="uart_8c.html#a899cd55c7d84717f3e869e4ee5bfda84">uart0_rx_intr_handler</a>,  &amp;(<a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#a9daa6a5b871ff1c87427231dff168f41">rcv_buff</a>));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="eagle__soc_8h.html#afa7ffae80f26c1c2fcb85e8a9a698039">PIN_PULLUP_DIS</a>(<a class="code" href="eagle__soc_8h.html#a296b2922cfa0a370ff2b31975eb5235c">PERIPHS_IO_MUX_U0TXD_U</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <a class="code" href="eagle__soc_8h.html#a06a669a21ddeb7fbee7cca6703ca34ac">PIN_FUNC_SELECT</a>(<a class="code" href="eagle__soc_8h.html#a296b2922cfa0a370ff2b31975eb5235c">PERIPHS_IO_MUX_U0TXD_U</a>, <a class="code" href="eagle__soc_8h.html#ae18547ea6266e7165ecbe4f07ac2bbf1">FUNC_U0TXD</a>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">    #if UART_HW_RTS</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor"></span>        <a class="code" href="eagle__soc_8h.html#a06a669a21ddeb7fbee7cca6703ca34ac">PIN_FUNC_SELECT</a>(<a class="code" href="eagle__soc_8h.html#a2cbaa3bc29b2f9c3c048839fb87214a5">PERIPHS_IO_MUX_MTDO_U</a>, <a class="code" href="eagle__soc_8h.html#a15c11b7eea434f3c08db4d0e04bb53a5">FUNC_U0RTS</a>);   <span class="comment">//HW FLOW CONTROL RTS PIN</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    #if UART_HW_CTS</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor"></span>        <a class="code" href="eagle__soc_8h.html#a06a669a21ddeb7fbee7cca6703ca34ac">PIN_FUNC_SELECT</a>(<a class="code" href="eagle__soc_8h.html#a59b294e607654219ceeff941aedf5e8e">PERIPHS_IO_MUX_MTCK_U</a>, <a class="code" href="driver_2uart_8h.html#a0a75da23958943d7ab1e4c98eeb4642e">FUNC_U0CTS</a>);   <span class="comment">//HW FLOW CONTROL CTS PIN</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    uart_div_modify(uart_no, <a class="code" href="eagle__soc_8h.html#acfca4084d0fefc311b562280a534e42d">UART_CLK_FREQ</a> / (<a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#a1a6982e54a4c80d03248d97aa4e7f57c">baut_rate</a>));<span class="comment">//SET BAUDRATE</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), ((<a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#ab0dbde04e07cf399428582ce9d8bc43d">exist_parity</a> &amp; <a class="code" href="driver_2uart__register_8h.html#adcdbfc9dd4466df5e43c0d0720465a9f">UART_PARITY_EN_M</a>)  &lt;&lt;  <a class="code" href="driver_2uart__register_8h.html#ac3c9818b9b6f03fffecaecfd7a47367b">UART_PARITY_EN_S</a>) <span class="comment">//SET BIT AND PARITY MODE</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                                                        | ((<a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#aaa1f4b3ac8e9a72e0701105ad7d8078e">parity</a> &amp; <a class="code" href="driver_2uart__register_8h.html#a9011199a1ee9f10bd7ad17ee2e77ad2c">UART_PARITY_M</a>)  &lt;&lt;<a class="code" href="driver_2uart__register_8h.html#ae16cc16dcece2cd2a6ea008c8eb6d5ab">UART_PARITY_S</a> )</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                                                        | ((<a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#a4c196eb55ccaa09061a843bbe47d29dc">stop_bits</a> &amp; <a class="code" href="driver_2uart__register_8h.html#a81f3a162f93893a91bdbfaff4e8336ab">UART_STOP_BIT_NUM</a>) &lt;&lt; <a class="code" href="driver_2uart__register_8h.html#af9ece8de00d49ade7f6e85a6270130bd">UART_STOP_BIT_NUM_S</a>)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                                                        | ((<a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#ae8f01df67cbdc9fad5e8b66fd03907d6">data_bits</a> &amp; <a class="code" href="driver_2uart__register_8h.html#ab55bccd82a4b0403473a4f02f48c6777">UART_BIT_NUM</a>) &lt;&lt; <a class="code" href="driver_2uart__register_8h.html#a399cfc26a21527b14d3df9ad369577c6">UART_BIT_NUM_S</a>));</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">//clear rx and tx fifo,not ready</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#ac7ce3d2ea688e9812d8758ce36d88b3e">UART_RXFIFO_RST</a> | <a class="code" href="driver_2uart__register_8h.html#aea9aaa17f3b5847f810191afe34de2db">UART_TXFIFO_RST</a>);    <span class="comment">//RESET FIFO</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#ac7ce3d2ea688e9812d8758ce36d88b3e">UART_RXFIFO_RST</a> | <a class="code" href="driver_2uart__register_8h.html#aea9aaa17f3b5847f810191afe34de2db">UART_TXFIFO_RST</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> (uart_no == <a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>){</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="comment">//set rx fifo trigger</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a81c32d64217c77d3a3c2a1cc60ae8afc">UART_CONF1</a>(uart_no),</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        ((100 &amp; <a class="code" href="driver_2uart__register_8h.html#af684f04b5e35b86065a88a7aa3e51210">UART_RXFIFO_FULL_THRHD</a>) &lt;&lt; <a class="code" href="driver_2uart__register_8h.html#ac669f1ce152543af628ffa6d13604d74">UART_RXFIFO_FULL_THRHD_S</a>) |</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        #<span class="keywordflow">if</span> <a class="code" href="driver_2uart_8h.html#a85a3415d6eef5615094c591737ac5393">UART_HW_RTS</a></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        ((110 &amp; <a class="code" href="driver_2uart__register_8h.html#ac05e8257122c3b65c3f8902a06b51393">UART_RX_FLOW_THRHD</a>) &lt;&lt; <a class="code" href="driver_2uart__register_8h.html#af5ae14dc7323ed4a34b29bacbd7dd71b">UART_RX_FLOW_THRHD_S</a>) |</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="driver_2uart__register_8h.html#a178055db273bd87000f4ce71f8e87a79">UART_RX_FLOW_EN</a> |   <span class="comment">//enbale rx flow control</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        #endif</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        (0x02 &amp; <a class="code" href="driver_2uart__register_8h.html#aa2b0f795b4fe38399fd46e1d49c107b4">UART_RX_TOUT_THRHD</a>) &lt;&lt; <a class="code" href="driver_2uart__register_8h.html#a1984877a524a2aece284062ee833ce5a">UART_RX_TOUT_THRHD_S</a> |</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <a class="code" href="driver_2uart__register_8h.html#a94902ce03b7f7636cb0294473c0d6b5a">UART_RX_TOUT_EN</a>|</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        ((0x10 &amp; <a class="code" href="driver_2uart__register_8h.html#ad3dff449a69c74fc6642b0a01edfbc74">UART_TXFIFO_EMPTY_THRHD</a>)&lt;&lt;<a class="code" href="driver_2uart__register_8h.html#aa87d0a51ad920a11a348156ecb552005">UART_TXFIFO_EMPTY_THRHD_S</a>));<span class="comment">//wjl </span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">        #if UART_HW_CTS</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor"></span>        <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>( <a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no),<a class="code" href="driver_2uart__register_8h.html#a3d4d6a8090a080e81c9193a59f46e24c">UART_TX_FLOW_EN</a>);  <span class="comment">//add this sentense to add a tx flow control via MTCK( CTS )</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">        #endif</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor"></span>        <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#ae07a4ee9c7e3c6828d0a2e0a3e4da0bf">UART_RXFIFO_TOUT_INT_ENA</a> |<a class="code" href="driver_2uart__register_8h.html#ac2191f5f2ea54851d5f18b47afd4cfec">UART_FRM_ERR_INT_ENA</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a81c32d64217c77d3a3c2a1cc60ae8afc">UART_CONF1</a>(uart_no),((<a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#a9daa6a5b871ff1c87427231dff168f41">rcv_buff</a>.<a class="code" href="struct_rcv_msg_buff.html#a142735d44b7fefc09c930d58b5e70d4d">TrigLvl</a> &amp; <a class="code" href="driver_2uart__register_8h.html#af684f04b5e35b86065a88a7aa3e51210">UART_RXFIFO_FULL_THRHD</a>) &lt;&lt; <a class="code" href="driver_2uart__register_8h.html#ac669f1ce152543af628ffa6d13604d74">UART_RXFIFO_FULL_THRHD_S</a>));<span class="comment">//TrigLvl default val == 1</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">//clear all interrupt</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a>(uart_no), 0xffff);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">//enable rx_interrupt</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#adf96029f1be0842496155dcc8f6868de">UART_RXFIFO_FULL_INT_ENA</a>|<a class="code" href="driver_2uart__register_8h.html#a610393c9afbd43f64b95b44003a051d4">UART_RXFIFO_OVF_INT_ENA</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;}</div>
<div class="ttc" id="eagle__soc_8h_html_a06a669a21ddeb7fbee7cca6703ca34ac"><div class="ttname"><a href="eagle__soc_8h.html#a06a669a21ddeb7fbee7cca6703ca34ac">PIN_FUNC_SELECT</a></div><div class="ttdeci">#define PIN_FUNC_SELECT(PIN_NAME, FUNC)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:270</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a92e318703bd3a12db8856182b046f76f"><div class="ttname"><a href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a></div><div class="ttdeci">#define UART_CONF0(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:100</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0a75da23958943d7ab1e4c98eeb4642e"><div class="ttname"><a href="driver_2uart_8h.html#a0a75da23958943d7ab1e4c98eeb4642e">FUNC_U0CTS</a></div><div class="ttdeci">#define FUNC_U0CTS</div><div class="ttdef"><b>Definition:</b> driver/uart.h:223</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ab55bccd82a4b0403473a4f02f48c6777"><div class="ttname"><a href="driver_2uart__register_8h.html#ab55bccd82a4b0403473a4f02f48c6777">UART_BIT_NUM</a></div><div class="ttdeci">#define UART_BIT_NUM</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:122</div></div>
<div class="ttc" id="eagle__soc_8h_html_a15c11b7eea434f3c08db4d0e04bb53a5"><div class="ttname"><a href="eagle__soc_8h.html#a15c11b7eea434f3c08db4d0e04bb53a5">FUNC_U0RTS</a></div><div class="ttdeci">#define FUNC_U0RTS</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:227</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac3c9818b9b6f03fffecaecfd7a47367b"><div class="ttname"><a href="driver_2uart__register_8h.html#ac3c9818b9b6f03fffecaecfd7a47367b">UART_PARITY_EN_S</a></div><div class="ttdeci">#define UART_PARITY_EN_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:126</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a178055db273bd87000f4ce71f8e87a79"><div class="ttname"><a href="driver_2uart__register_8h.html#a178055db273bd87000f4ce71f8e87a79">UART_RX_FLOW_EN</a></div><div class="ttdeci">#define UART_RX_FLOW_EN</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:135</div></div>
<div class="ttc" id="uart_8c_html_a899cd55c7d84717f3e869e4ee5bfda84"><div class="ttname"><a href="uart_8c.html#a899cd55c7d84717f3e869e4ee5bfda84">uart0_rx_intr_handler</a></div><div class="ttdeci">LOCAL void uart0_rx_intr_handler(void *para)</div><div class="ttdef"><b>Definition:</b> uart.c:246</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac669f1ce152543af628ffa6d13604d74"><div class="ttname"><a href="driver_2uart__register_8h.html#ac669f1ce152543af628ffa6d13604d74">UART_RXFIFO_FULL_THRHD_S</a></div><div class="ttdeci">#define UART_RXFIFO_FULL_THRHD_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:141</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aa2b0f795b4fe38399fd46e1d49c107b4"><div class="ttname"><a href="driver_2uart__register_8h.html#aa2b0f795b4fe38399fd46e1d49c107b4">UART_RX_TOUT_THRHD</a></div><div class="ttdeci">#define UART_RX_TOUT_THRHD</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:133</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_adf96029f1be0842496155dcc8f6868de"><div class="ttname"><a href="driver_2uart__register_8h.html#adf96029f1be0842496155dcc8f6868de">UART_RXFIFO_FULL_INT_ENA</a></div><div class="ttdeci">#define UART_RXFIFO_FULL_INT_ENA</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:66</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a9011199a1ee9f10bd7ad17ee2e77ad2c"><div class="ttname"><a href="driver_2uart__register_8h.html#a9011199a1ee9f10bd7ad17ee2e77ad2c">UART_PARITY_M</a></div><div class="ttdeci">#define UART_PARITY_M</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:128</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a1984877a524a2aece284062ee833ce5a"><div class="ttname"><a href="driver_2uart__register_8h.html#a1984877a524a2aece284062ee833ce5a">UART_RX_TOUT_THRHD_S</a></div><div class="ttdeci">#define UART_RX_TOUT_THRHD_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:134</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac6ce538b7a0389b41640e89990d0d76d"><div class="ttname"><a href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a></div><div class="ttdeci">#define UART_INT_ENA(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:57</div></div>
<div class="ttc" id="struct_uart_device_html_a1a6982e54a4c80d03248d97aa4e7f57c"><div class="ttname"><a href="struct_uart_device.html#a1a6982e54a4c80d03248d97aa4e7f57c">UartDevice::baut_rate</a></div><div class="ttdeci">UartBautRate baut_rate</div><div class="ttdef"><b>Definition:</b> driver/uart.h:153</div></div>
<div class="ttc" id="eagle__soc_8h_html_a7b7928aa333ebb8c2961b32522ffbb3f"><div class="ttname"><a href="eagle__soc_8h.html#a7b7928aa333ebb8c2961b32522ffbb3f">PERIPHS_IO_MUX_GPIO2_U</a></div><div class="ttdeci">#define PERIPHS_IO_MUX_GPIO2_U</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:258</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ad3dff449a69c74fc6642b0a01edfbc74"><div class="ttname"><a href="driver_2uart__register_8h.html#ad3dff449a69c74fc6642b0a01edfbc74">UART_TXFIFO_EMPTY_THRHD</a></div><div class="ttdeci">#define UART_TXFIFO_EMPTY_THRHD</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:138</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_adcdbfc9dd4466df5e43c0d0720465a9f"><div class="ttname"><a href="driver_2uart__register_8h.html#adcdbfc9dd4466df5e43c0d0720465a9f">UART_PARITY_EN_M</a></div><div class="ttdeci">#define UART_PARITY_EN_M</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:125</div></div>
<div class="ttc" id="struct_uart_device_html_aaa1f4b3ac8e9a72e0701105ad7d8078e"><div class="ttname"><a href="struct_uart_device.html#aaa1f4b3ac8e9a72e0701105ad7d8078e">UartDevice::parity</a></div><div class="ttdeci">UartParityMode parity</div><div class="ttdef"><b>Definition:</b> driver/uart.h:156</div></div>
<div class="ttc" id="eagle__soc_8h_html_a59b294e607654219ceeff941aedf5e8e"><div class="ttname"><a href="eagle__soc_8h.html#a59b294e607654219ceeff941aedf5e8e">PERIPHS_IO_MUX_MTCK_U</a></div><div class="ttdeci">#define PERIPHS_IO_MUX_MTCK_U</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:221</div></div>
<div class="ttc" id="eagle__soc_8h_html_acfca4084d0fefc311b562280a534e42d"><div class="ttname"><a href="eagle__soc_8h.html#acfca4084d0fefc311b562280a534e42d">UART_CLK_FREQ</a></div><div class="ttdeci">#define UART_CLK_FREQ</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:78</div></div>
<div class="ttc" id="eagle__soc_8h_html_a771037d188a1c185dd90c2019a896d03"><div class="ttname"><a href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a></div><div class="ttdeci">#define WRITE_PERI_REG(addr, val)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:69</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac2191f5f2ea54851d5f18b47afd4cfec"><div class="ttname"><a href="driver_2uart__register_8h.html#ac2191f5f2ea54851d5f18b47afd4cfec">UART_FRM_ERR_INT_ENA</a></div><div class="ttdeci">#define UART_FRM_ERR_INT_ENA</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:63</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_af9ece8de00d49ade7f6e85a6270130bd"><div class="ttname"><a href="driver_2uart__register_8h.html#af9ece8de00d49ade7f6e85a6270130bd">UART_STOP_BIT_NUM_S</a></div><div class="ttdeci">#define UART_STOP_BIT_NUM_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:121</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a3d4d6a8090a080e81c9193a59f46e24c"><div class="ttname"><a href="driver_2uart__register_8h.html#a3d4d6a8090a080e81c9193a59f46e24c">UART_TX_FLOW_EN</a></div><div class="ttdeci">#define UART_TX_FLOW_EN</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:110</div></div>
<div class="ttc" id="eagle__soc_8h_html_a49d2f71a1c594fe3aaf913ba9de688f9"><div class="ttname"><a href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a></div><div class="ttdeci">#define CLEAR_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:70</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a399cfc26a21527b14d3df9ad369577c6"><div class="ttname"><a href="driver_2uart__register_8h.html#a399cfc26a21527b14d3df9ad369577c6">UART_BIT_NUM_S</a></div><div class="ttdeci">#define UART_BIT_NUM_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:123</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac05e8257122c3b65c3f8902a06b51393"><div class="ttname"><a href="driver_2uart__register_8h.html#ac05e8257122c3b65c3f8902a06b51393">UART_RX_FLOW_THRHD</a></div><div class="ttdeci">#define UART_RX_FLOW_THRHD</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:136</div></div>
<div class="ttc" id="eagle__soc_8h_html_ae18547ea6266e7165ecbe4f07ac2bbf1"><div class="ttname"><a href="eagle__soc_8h.html#ae18547ea6266e7165ecbe4f07ac2bbf1">FUNC_U0TXD</a></div><div class="ttdeci">#define FUNC_U0TXD</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:231</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a610393c9afbd43f64b95b44003a051d4"><div class="ttname"><a href="driver_2uart__register_8h.html#a610393c9afbd43f64b95b44003a051d4">UART_RXFIFO_OVF_INT_ENA</a></div><div class="ttdeci">#define UART_RXFIFO_OVF_INT_ENA</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:62</div></div>
<div class="ttc" id="struct_rcv_msg_buff_html_a142735d44b7fefc09c930d58b5e70d4d"><div class="ttname"><a href="struct_rcv_msg_buff.html#a142735d44b7fefc09c930d58b5e70d4d">RcvMsgBuff::TrigLvl</a></div><div class="ttdeci">uint8 TrigLvl</div><div class="ttdef"><b>Definition:</b> driver/uart.h:135</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_af684f04b5e35b86065a88a7aa3e51210"><div class="ttname"><a href="driver_2uart__register_8h.html#af684f04b5e35b86065a88a7aa3e51210">UART_RXFIFO_FULL_THRHD</a></div><div class="ttdeci">#define UART_RXFIFO_FULL_THRHD</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:140</div></div>
<div class="ttc" id="struct_uart_device_html_ae8f01df67cbdc9fad5e8b66fd03907d6"><div class="ttname"><a href="struct_uart_device.html#ae8f01df67cbdc9fad5e8b66fd03907d6">UartDevice::data_bits</a></div><div class="ttdeci">UartBitsNum4Char data_bits</div><div class="ttdef"><b>Definition:</b> driver/uart.h:154</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a81c32d64217c77d3a3c2a1cc60ae8afc"><div class="ttname"><a href="driver_2uart__register_8h.html#a81c32d64217c77d3a3c2a1cc60ae8afc">UART_CONF1</a></div><div class="ttdeci">#define UART_CONF1(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:131</div></div>
<div class="ttc" id="struct_uart_device_html_ab0dbde04e07cf399428582ce9d8bc43d"><div class="ttname"><a href="struct_uart_device.html#ab0dbde04e07cf399428582ce9d8bc43d">UartDevice::exist_parity</a></div><div class="ttdeci">UartExistParity exist_parity</div><div class="ttdef"><b>Definition:</b> driver/uart.h:155</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a94902ce03b7f7636cb0294473c0d6b5a"><div class="ttname"><a href="driver_2uart__register_8h.html#a94902ce03b7f7636cb0294473c0d6b5a">UART_RX_TOUT_EN</a></div><div class="ttdeci">#define UART_RX_TOUT_EN</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:132</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0508661f121639ffdee7de2353a0def2"><div class="ttname"><a href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a></div><div class="ttdeci">#define UART0</div><div class="ttdef"><b>Definition:</b> driver/uart.h:56</div></div>
<div class="ttc" id="eagle__soc_8h_html_a2cbaa3bc29b2f9c3c048839fb87214a5"><div class="ttname"><a href="eagle__soc_8h.html#a2cbaa3bc29b2f9c3c048839fb87214a5">PERIPHS_IO_MUX_MTDO_U</a></div><div class="ttdeci">#define PERIPHS_IO_MUX_MTDO_U</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:225</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aa87d0a51ad920a11a348156ecb552005"><div class="ttname"><a href="driver_2uart__register_8h.html#aa87d0a51ad920a11a348156ecb552005">UART_TXFIFO_EMPTY_THRHD_S</a></div><div class="ttdeci">#define UART_TXFIFO_EMPTY_THRHD_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:139</div></div>
<div class="ttc" id="ets__sys_8h_html_ae05cdf8bb2481e44ebf01440070f0c38"><div class="ttname"><a href="ets__sys_8h.html#ae05cdf8bb2481e44ebf01440070f0c38">ETS_UART_INTR_ATTACH</a></div><div class="ttdeci">#define ETS_UART_INTR_ATTACH(func, arg)</div><div class="ttdef"><b>Definition:</b> ets_sys.h:81</div></div>
<div class="ttc" id="struct_uart_device_html_a4c196eb55ccaa09061a843bbe47d29dc"><div class="ttname"><a href="struct_uart_device.html#a4c196eb55ccaa09061a843bbe47d29dc">UartDevice::stop_bits</a></div><div class="ttdeci">UartStopBitsNum stop_bits</div><div class="ttdef"><b>Definition:</b> driver/uart.h:157</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac7ce3d2ea688e9812d8758ce36d88b3e"><div class="ttname"><a href="driver_2uart__register_8h.html#ac7ce3d2ea688e9812d8758ce36d88b3e">UART_RXFIFO_RST</a></div><div class="ttdeci">#define UART_RXFIFO_RST</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:108</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ae16cc16dcece2cd2a6ea008c8eb6d5ab"><div class="ttname"><a href="driver_2uart__register_8h.html#ae16cc16dcece2cd2a6ea008c8eb6d5ab">UART_PARITY_S</a></div><div class="ttdeci">#define UART_PARITY_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:129</div></div>
<div class="ttc" id="driver_2uart_8h_html_aeeaeca83acd474324668f62a4c2b0bcc"><div class="ttname"><a href="driver_2uart_8h.html#aeeaeca83acd474324668f62a4c2b0bcc">FUNC_U1TXD_BK</a></div><div class="ttdeci">#define FUNC_U1TXD_BK</div><div class="ttdef"><b>Definition:</b> driver/uart.h:224</div></div>
<div class="ttc" id="uart_8c_html_abe863f238818002e1dd96aad8a48c927"><div class="ttname"><a href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a></div><div class="ttdeci">UartDevice UartDev</div></div>
<div class="ttc" id="struct_uart_device_html_a9daa6a5b871ff1c87427231dff168f41"><div class="ttname"><a href="struct_uart_device.html#a9daa6a5b871ff1c87427231dff168f41">UartDevice::rcv_buff</a></div><div class="ttdeci">RcvMsgBuff rcv_buff</div><div class="ttdef"><b>Definition:</b> driver/uart.h:159</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a4a450c7ddda3d960c70a0ceac5e19b9b"><div class="ttname"><a href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a></div><div class="ttdeci">#define UART_INT_CLR(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:68</div></div>
<div class="ttc" id="driver_2uart_8h_html_a85a3415d6eef5615094c591737ac5393"><div class="ttname"><a href="driver_2uart_8h.html#a85a3415d6eef5615094c591737ac5393">UART_HW_RTS</a></div><div class="ttdeci">#define UART_HW_RTS</div><div class="ttdef"><b>Definition:</b> driver/uart.h:53</div></div>
<div class="ttc" id="driver_2uart_8h_html_a8d69bf04d07af4fbbab5a8bd291f65ff"><div class="ttname"><a href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a></div><div class="ttdeci">#define UART1</div><div class="ttdef"><b>Definition:</b> driver/uart.h:57</div></div>
<div class="ttc" id="eagle__soc_8h_html_aa517f1b5879c555db159ad34fea2475f"><div class="ttname"><a href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a></div><div class="ttdeci">#define SET_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:71</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ae07a4ee9c7e3c6828d0a2e0a3e4da0bf"><div class="ttname"><a href="driver_2uart__register_8h.html#ae07a4ee9c7e3c6828d0a2e0a3e4da0bf">UART_RXFIFO_TOUT_INT_ENA</a></div><div class="ttdeci">#define UART_RXFIFO_TOUT_INT_ENA</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:58</div></div>
<div class="ttc" id="eagle__soc_8h_html_a296b2922cfa0a370ff2b31975eb5235c"><div class="ttname"><a href="eagle__soc_8h.html#a296b2922cfa0a370ff2b31975eb5235c">PERIPHS_IO_MUX_U0TXD_U</a></div><div class="ttdeci">#define PERIPHS_IO_MUX_U0TXD_U</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:230</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a81f3a162f93893a91bdbfaff4e8336ab"><div class="ttname"><a href="driver_2uart__register_8h.html#a81f3a162f93893a91bdbfaff4e8336ab">UART_STOP_BIT_NUM</a></div><div class="ttdeci">#define UART_STOP_BIT_NUM</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:120</div></div>
<div class="ttc" id="eagle__soc_8h_html_afa7ffae80f26c1c2fcb85e8a9a698039"><div class="ttname"><a href="eagle__soc_8h.html#afa7ffae80f26c1c2fcb85e8a9a698039">PIN_PULLUP_DIS</a></div><div class="ttdeci">#define PIN_PULLUP_DIS(PIN_NAME)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:267</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aea9aaa17f3b5847f810191afe34de2db"><div class="ttname"><a href="driver_2uart__register_8h.html#aea9aaa17f3b5847f810191afe34de2db">UART_TXFIFO_RST</a></div><div class="ttdeci">#define UART_TXFIFO_RST</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:107</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_af5ae14dc7323ed4a34b29bacbd7dd71b"><div class="ttname"><a href="driver_2uart__register_8h.html#af5ae14dc7323ed4a34b29bacbd7dd71b">UART_RX_FLOW_THRHD_S</a></div><div class="ttdeci">#define UART_RX_FLOW_THRHD_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:137</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a489b77b74dfee22fd4f0c5323ab44da6_cgraph.png" border="0" usemap="#uart_8c_a489b77b74dfee22fd4f0c5323ab44da6_cgraph" alt=""/></div>
<map name="uart_8c_a489b77b74dfee22fd4f0c5323ab44da6_cgraph" id="uart_8c_a489b77b74dfee22fd4f0c5323ab44da6_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#a899cd55c7d84717f3e869e4ee5bfda84" title="uart0_rx_intr_handler" alt="" coords="139,56,281,83"/><area shape="rect" id="node3" href="uart_8c.html#a66498d65854712e438ab711b511e0155" title="uart_rx_intr_disable" alt="" coords="329,5,464,32"/><area shape="rect" id="node4" href="user__interface_8h.html#adab1155f3a463f2b05a9bde65b37514f" title="system_os_post" alt="" coords="337,56,456,83"/><area shape="rect" id="node5" href="driver_2uart_8h.html#ae4702ed894330fc8b2099cb90a5bf4aa" title="tx_start_uart_buffer" alt="" coords="330,107,463,133"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a489b77b74dfee22fd4f0c5323ab44da6_icgraph.png" border="0" usemap="#uart_8c_a489b77b74dfee22fd4f0c5323ab44da6_icgraph" alt=""/></div>
<map name="uart_8c_a489b77b74dfee22fd4f0c5323ab44da6_icgraph" id="uart_8c_a489b77b74dfee22fd4f0c5323ab44da6_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#af4416966da7cba189e7998334e2a0bee" title="uart_init" alt="" coords="146,31,214,57"/><area shape="rect" id="node5" href="uart_8c.html#a04be0eb8c6c4685b81b32b20bb1cfa72" title="uart_init_2" alt="" coords="139,81,221,108"/><area shape="rect" id="node3" href="uart_8c.html#a15a9e8dca40ebbeea858ce8f081c06cf" title="uart_reattach" alt="" coords="269,5,368,32"/><area shape="rect" id="node4" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="283,56,354,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a40bca7ca9b269f93bc9f17924a38fbe0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4">STATUS</a> uart_tx_one_char </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>TxChar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>){</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="code" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> fifo_cnt = <a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a>(uart)) &amp; (<a class="code" href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a>&lt;&lt;<a class="code" href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> ((fifo_cnt &gt;&gt; <a class="code" href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a> &amp; <a class="code" href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a>) &lt; 126) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a100bbf8ae46bfc48a6bc9a927d100917">UART_FIFO</a>(uart) , TxChar);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4a2bc49ec37d6a5715dd23e85f1ff5bb59">OK</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_a450a8df365d3306ea53de5763b6a51e5"><div class="ttname"><a href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a></div><div class="ttdeci">#define UART_TXFIFO_CNT_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:93</div></div>
<div class="ttc" id="eagle__soc_8h_html_a14c110c5360780defb1aa84ff53933d3"><div class="ttname"><a href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a></div><div class="ttdeci">#define READ_PERI_REG(addr)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:68</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a95d6f1cf76090799914abd3fccfa8a96"><div class="ttname"><a href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a></div><div class="ttdeci">#define UART_TXFIFO_CNT</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:92</div></div>
<div class="ttc" id="eagle__soc_8h_html_a771037d188a1c185dd90c2019a896d03"><div class="ttname"><a href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a></div><div class="ttdeci">#define WRITE_PERI_REG(addr, val)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:69</div></div>
<div class="ttc" id="c__types_8h_html_a32c27cc471df37f4fc818d65de0a56c4a2bc49ec37d6a5715dd23e85f1ff5bb59"><div class="ttname"><a href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4a2bc49ec37d6a5715dd23e85f1ff5bb59">OK</a></div><div class="ttdef"><b>Definition:</b> c_types.h:78</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aa069c3a91501d33accc3c760840fd29a"><div class="ttname"><a href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a></div><div class="ttdeci">#define UART_STATUS(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:88</div></div>
<div class="ttc" id="c__types_8h_html_a1134b580f8da4de94ca6b1de4d37975e"><div class="ttname"><a href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdef"><b>Definition:</b> c_types.h:52</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a100bbf8ae46bfc48a6bc9a927d100917"><div class="ttname"><a href="driver_2uart__register_8h.html#a100bbf8ae46bfc48a6bc9a927d100917">UART_FIFO</a></div><div class="ttdeci">#define UART_FIFO(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:31</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a40bca7ca9b269f93bc9f17924a38fbe0_icgraph.png" border="0" usemap="#uart_8c_a40bca7ca9b269f93bc9f17924a38fbe0_icgraph" alt=""/></div>
<map name="uart_8c_a40bca7ca9b269f93bc9f17924a38fbe0_icgraph" id="uart_8c_a40bca7ca9b269f93bc9f17924a38fbe0_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a421a8c124d7ff816cd70587fffc64d0e" title="uart1_write_char" alt="" coords="176,5,293,32"/><area shape="rect" id="node6" href="uart_8c.html#a87f1c1c2a25d4336eb804da28ed99f7e" title="uart0_tx_buffer" alt="" coords="181,56,288,83"/><area shape="rect" id="node7" href="uart_8c.html#a3679d0793ad30e2656d4dc423104674e" title="uart1_tx_buffer" alt="" coords="181,259,288,285"/><area shape="rect" id="node13" href="uart_8c.html#aac87a7da6336b797ad954cee8400bb3e" title="uart0_sendStr" alt="" coords="183,157,286,184"/><area shape="rect" id="node14" href="uart_8c.html#a99582b04a744bf2dfb261ab045e8f6bd" title="uart_recvTask" alt="" coords="183,208,286,235"/><area shape="rect" id="node17" href="uart_8c.html#ae515be6247217577f929156f37332723" title="uart0_write_char" alt="" coords="176,107,293,133"/><area shape="rect" id="node3" href="uart_8c.html#a049f0d5eba74bf0f2fb7021964d6af54" title="UART_SetPrintPort" alt="" coords="341,107,476,133"/><area shape="rect" id="node5" href="uart_8c.html#a04be0eb8c6c4685b81b32b20bb1cfa72" title="uart_init_2" alt="" coords="367,5,450,32"/><area shape="rect" id="node4" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="864,157,935,184"/><area shape="rect" id="node8" href="nb__bc35_8c.html#a566469396821ae4c881b7b558204f68f" title="向NB模组发送指令 " alt="" coords="357,259,461,285"/><area shape="rect" id="node9" href="nb__bc35_8c.html#a400010e7ae3dbd0f364708d1cefb648f" title="上报数据到云端 " alt="" coords="524,259,636,285"/><area shape="rect" id="node10" href="nb__bc35_8c.html#a2cf1c3f67e168aee4fe9c184c9809307" title="NB_Init" alt="" coords="548,309,612,336"/><area shape="rect" id="node11" href="uart_8c.html#aeb899bf88fe84dd61c113b850c2f0a2d" title="NB消息处理函数 " alt="" coords="684,259,816,285"/><area shape="rect" id="node12" href="user__main_8c.html#a50374dadba5323609469073006ce3402" title="system_init_done" alt="" coords="688,309,812,336"/><area shape="rect" id="node15" href="uart_8c.html#af4416966da7cba189e7998334e2a0bee" title="uart_init" alt="" coords="375,208,443,235"/><area shape="rect" id="node16" href="uart_8c.html#a15a9e8dca40ebbeea858ce8f081c06cf" title="uart_reattach" alt="" coords="531,208,629,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a421a8c124d7ff816cd70587fffc64d0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> uart1_write_char </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>){</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <a class="code" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a>(<a class="code" href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a>, <span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <a class="code" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a>(<a class="code" href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a>, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\r&#39;</span>){</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a>(<a class="code" href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a>, c);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="ttc" id="uart_8c_html_a40bca7ca9b269f93bc9f17924a38fbe0"><div class="ttname"><a href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a></div><div class="ttdeci">STATUS uart_tx_one_char(uint8 uart, uint8 TxChar)</div><div class="ttdef"><b>Definition:</b> uart.c:128</div></div>
<div class="ttc" id="driver_2uart_8h_html_a8d69bf04d07af4fbbab5a8bd291f65ff"><div class="ttname"><a href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a></div><div class="ttdeci">#define UART1</div><div class="ttdef"><b>Definition:</b> driver/uart.h:57</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a421a8c124d7ff816cd70587fffc64d0e_cgraph.png" border="0" usemap="#uart_8c_a421a8c124d7ff816cd70587fffc64d0e_cgraph" alt=""/></div>
<map name="uart_8c_a421a8c124d7ff816cd70587fffc64d0e_cgraph" id="uart_8c_a421a8c124d7ff816cd70587fffc64d0e_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="171,5,293,32"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a421a8c124d7ff816cd70587fffc64d0e_icgraph.png" border="0" usemap="#uart_8c_a421a8c124d7ff816cd70587fffc64d0e_icgraph" alt=""/></div>
<map name="uart_8c_a421a8c124d7ff816cd70587fffc64d0e_icgraph" id="uart_8c_a421a8c124d7ff816cd70587fffc64d0e_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a049f0d5eba74bf0f2fb7021964d6af54" title="UART_SetPrintPort" alt="" coords="171,5,305,32"/><area shape="rect" id="node4" href="uart_8c.html#a04be0eb8c6c4685b81b32b20bb1cfa72" title="uart_init_2" alt="" coords="197,56,279,83"/><area shape="rect" id="node3" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="353,5,424,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac6574203b3e972e584ebf57acb04f6b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> uart0_write_char_no_wait </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="preprocessor">#if UART_BUFF_EN    //send to uart0 fifo but do not wait </span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor"></span>    <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> chr;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>){</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        chr = <span class="charliteral">&#39;\r&#39;</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="driver_2uart_8h.html#a9fd2e5dba086df474beadf9068d4892f">tx_buff_enq</a>(&amp;chr, 1);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        chr = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <a class="code" href="driver_2uart_8h.html#a9fd2e5dba086df474beadf9068d4892f">tx_buff_enq</a>(&amp;chr, 1);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\r&#39;</span>){</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="driver_2uart_8h.html#a9fd2e5dba086df474beadf9068d4892f">tx_buff_enq</a>(&amp;c,1);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#else //send to uart tx buffer</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>){</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="uart_8c.html#a049fe09b0bc6d87a403c418e5f681945">uart_tx_one_char_no_wait</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>, <span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="uart_8c.html#a049fe09b0bc6d87a403c418e5f681945">uart_tx_one_char_no_wait</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\r&#39;</span>){</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="uart_8c.html#a049fe09b0bc6d87a403c418e5f681945">uart_tx_one_char_no_wait</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>, c);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="uart_8c_html_a049fe09b0bc6d87a403c418e5f681945"><div class="ttname"><a href="uart_8c.html#a049fe09b0bc6d87a403c418e5f681945">uart_tx_one_char_no_wait</a></div><div class="ttdeci">STATUS uart_tx_one_char_no_wait(uint8 uart, uint8 TxChar)</div><div class="ttdef"><b>Definition:</b> uart.c:402</div></div>
<div class="ttc" id="driver_2uart_8h_html_a9fd2e5dba086df474beadf9068d4892f"><div class="ttname"><a href="driver_2uart_8h.html#a9fd2e5dba086df474beadf9068d4892f">tx_buff_enq</a></div><div class="ttdeci">void tx_buff_enq(char *pdata, uint16 data_len)</div></div>
<div class="ttc" id="c__types_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdef"><b>Definition:</b> c_types.h:43</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0508661f121639ffdee7de2353a0def2"><div class="ttname"><a href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a></div><div class="ttdeci">#define UART0</div><div class="ttdef"><b>Definition:</b> driver/uart.h:56</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_ac6574203b3e972e584ebf57acb04f6b4_cgraph.png" border="0" usemap="#uart_8c_ac6574203b3e972e584ebf57acb04f6b4_cgraph" alt=""/></div>
<map name="uart_8c_ac6574203b3e972e584ebf57acb04f6b4_cgraph" id="uart_8c_ac6574203b3e972e584ebf57acb04f6b4_cgraph">
<area shape="rect" id="node2" href="driver_2uart_8h.html#a9fd2e5dba086df474beadf9068d4892f" title="tx_buff_enq" alt="" coords="264,5,352,32"/><area shape="rect" id="node3" href="uart_8c.html#a049fe09b0bc6d87a403c418e5f681945" title="uart_tx_one_char_no_wait" alt="" coords="221,56,395,83"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_ac6574203b3e972e584ebf57acb04f6b4_icgraph.png" border="0" usemap="#uart_8c_ac6574203b3e972e584ebf57acb04f6b4_icgraph" alt=""/></div>
<map name="uart_8c_ac6574203b3e972e584ebf57acb04f6b4_icgraph" id="uart_8c_ac6574203b3e972e584ebf57acb04f6b4_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a049f0d5eba74bf0f2fb7021964d6af54" title="UART_SetPrintPort" alt="" coords="221,5,356,32"/><area shape="rect" id="node3" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="404,5,475,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a87f1c1c2a25d4336eb804da28ed99f7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> uart0_tx_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="c__types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> i;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; len; i++)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <a class="code" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>, buf[i]);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="ttc" id="c__types_8h_html_a05f6b0ae8f6a6e135b0e290c25fe0e4e"><div class="ttname"><a href="c__types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></div><div class="ttdeci">unsigned short uint16</div><div class="ttdef"><b>Definition:</b> c_types.h:48</div></div>
<div class="ttc" id="uart_8c_html_a40bca7ca9b269f93bc9f17924a38fbe0"><div class="ttname"><a href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a></div><div class="ttdeci">STATUS uart_tx_one_char(uint8 uart, uint8 TxChar)</div><div class="ttdef"><b>Definition:</b> uart.c:128</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0508661f121639ffdee7de2353a0def2"><div class="ttname"><a href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a></div><div class="ttdeci">#define UART0</div><div class="ttdef"><b>Definition:</b> driver/uart.h:56</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a87f1c1c2a25d4336eb804da28ed99f7e_cgraph.png" border="0" usemap="#uart_8c_a87f1c1c2a25d4336eb804da28ed99f7e_cgraph" alt=""/></div>
<map name="uart_8c_a87f1c1c2a25d4336eb804da28ed99f7e_cgraph" id="uart_8c_a87f1c1c2a25d4336eb804da28ed99f7e_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="160,5,283,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3679d0793ad30e2656d4dc423104674e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> uart1_tx_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;{</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="c__types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> i;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; len; i++)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a>(<a class="code" href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a>, buf[i]);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;}</div>
<div class="ttc" id="c__types_8h_html_a05f6b0ae8f6a6e135b0e290c25fe0e4e"><div class="ttname"><a href="c__types_8h.html#a05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a></div><div class="ttdeci">unsigned short uint16</div><div class="ttdef"><b>Definition:</b> c_types.h:48</div></div>
<div class="ttc" id="uart_8c_html_a40bca7ca9b269f93bc9f17924a38fbe0"><div class="ttname"><a href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a></div><div class="ttdeci">STATUS uart_tx_one_char(uint8 uart, uint8 TxChar)</div><div class="ttdef"><b>Definition:</b> uart.c:128</div></div>
<div class="ttc" id="driver_2uart_8h_html_a8d69bf04d07af4fbbab5a8bd291f65ff"><div class="ttname"><a href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a></div><div class="ttdeci">#define UART1</div><div class="ttdef"><b>Definition:</b> driver/uart.h:57</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a3679d0793ad30e2656d4dc423104674e_cgraph.png" border="0" usemap="#uart_8c_a3679d0793ad30e2656d4dc423104674e_cgraph" alt=""/></div>
<map name="uart_8c_a3679d0793ad30e2656d4dc423104674e_cgraph" id="uart_8c_a3679d0793ad30e2656d4dc423104674e_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="160,5,283,32"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a3679d0793ad30e2656d4dc423104674e_icgraph.png" border="0" usemap="#uart_8c_a3679d0793ad30e2656d4dc423104674e_icgraph" alt=""/></div>
<map name="uart_8c_a3679d0793ad30e2656d4dc423104674e_icgraph" id="uart_8c_a3679d0793ad30e2656d4dc423104674e_icgraph">
<area shape="rect" id="node2" href="nb__bc35_8c.html#a566469396821ae4c881b7b558204f68f" title="向NB模组发送指令 " alt="" coords="160,31,264,57"/><area shape="rect" id="node3" href="nb__bc35_8c.html#a400010e7ae3dbd0f364708d1cefb648f" title="上报数据到云端 " alt="" coords="312,5,424,32"/><area shape="rect" id="node4" href="nb__bc35_8c.html#a2cf1c3f67e168aee4fe9c184c9809307" title="NB_Init" alt="" coords="336,56,400,83"/><area shape="rect" id="node5" href="uart_8c.html#aeb899bf88fe84dd61c113b850c2f0a2d" title="NB消息处理函数 " alt="" coords="472,31,604,57"/><area shape="rect" id="node6" href="user__main_8c.html#a50374dadba5323609469073006ce3402" title="system_init_done" alt="" coords="476,81,600,108"/><area shape="rect" id="node7" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="652,81,723,108"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aac87a7da6336b797ad954cee8400bb3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> uart0_sendStr </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">while</span>(*str){</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>, *str++);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div>
<div class="ttc" id="uart_8c_html_a40bca7ca9b269f93bc9f17924a38fbe0"><div class="ttname"><a href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a></div><div class="ttdeci">STATUS uart_tx_one_char(uint8 uart, uint8 TxChar)</div><div class="ttdef"><b>Definition:</b> uart.c:128</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0508661f121639ffdee7de2353a0def2"><div class="ttname"><a href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a></div><div class="ttdeci">#define UART0</div><div class="ttdef"><b>Definition:</b> driver/uart.h:56</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_aac87a7da6336b797ad954cee8400bb3e_cgraph.png" border="0" usemap="#uart_8c_aac87a7da6336b797ad954cee8400bb3e_cgraph" alt=""/></div>
<map name="uart_8c_aac87a7da6336b797ad954cee8400bb3e_cgraph" id="uart_8c_aac87a7da6336b797ad954cee8400bb3e_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="156,5,279,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af3f633ba06e94e439008a2ee4178aae1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void at_port_print </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a99582b04a744bf2dfb261ab045e8f6bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> uart_recvTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="os__type_8h.html#a31c610c4705c01b07e272852f4bd17ca">os_event_t</a> *&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;{</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">if</span>(events-&gt;sig == 0){</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">    #if  UART_BUFF_EN  </span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="preprocessor"></span>        <a class="code" href="driver_2uart_8h.html#af5433496db26d6d111aa0d410768e663">Uart_rx_buff_enq</a>();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor">    #else</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor"></span>        <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> fifo_len = (<a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>))&gt;&gt;<a class="code" href="driver_2uart__register_8h.html#a760503f72822d1975589fc0e4be1d482">UART_RXFIFO_CNT_S</a>)&amp;<a class="code" href="driver_2uart__register_8h.html#ae9d6ce323b6534461cfaf1f6bd797f31">UART_RXFIFO_CNT</a>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> d_tmp = 0;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> idx=0;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">for</span>(idx=0;idx&lt;fifo_len;idx++) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            d_tmp = <a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a100bbf8ae46bfc48a6bc9a927d100917">UART_FIFO</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>)) &amp; 0xFF;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <a class="code" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>, d_tmp);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>), <a class="code" href="driver_2uart__register_8h.html#a9807543880b8867e285033b87c721324">UART_RXFIFO_FULL_INT_CLR</a>|<a class="code" href="driver_2uart__register_8h.html#a2cd7fe69ace8fd91a1e79c798c3c7688">UART_RXFIFO_TOUT_INT_CLR</a>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="uart_8c.html#adbb32bf5331e41dea87a773842649535">uart_rx_intr_enable</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor"></span>    }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(events-&gt;sig == 1){</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="preprocessor">    #if UART_BUFF_EN</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="preprocessor"></span>     <span class="comment">//already move uart buffer output to uart empty interrupt</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="comment">//tx_start_uart_buffer(UART0);</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="preprocessor">    #else </span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="preprocessor"></span>    </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="ttc" id="eagle__soc_8h_html_a14c110c5360780defb1aa84ff53933d3"><div class="ttname"><a href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a></div><div class="ttdeci">#define READ_PERI_REG(addr)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:68</div></div>
<div class="ttc" id="driver_2uart_8h_html_af5433496db26d6d111aa0d410768e663"><div class="ttname"><a href="driver_2uart_8h.html#af5433496db26d6d111aa0d410768e663">Uart_rx_buff_enq</a></div><div class="ttdeci">void Uart_rx_buff_enq()</div></div>
<div class="ttc" id="uart_8c_html_a40bca7ca9b269f93bc9f17924a38fbe0"><div class="ttname"><a href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a></div><div class="ttdeci">STATUS uart_tx_one_char(uint8 uart, uint8 TxChar)</div><div class="ttdef"><b>Definition:</b> uart.c:128</div></div>
<div class="ttc" id="eagle__soc_8h_html_a771037d188a1c185dd90c2019a896d03"><div class="ttname"><a href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a></div><div class="ttdeci">#define WRITE_PERI_REG(addr, val)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:69</div></div>
<div class="ttc" id="uart_8c_html_adbb32bf5331e41dea87a773842649535"><div class="ttname"><a href="uart_8c.html#adbb32bf5331e41dea87a773842649535">uart_rx_intr_enable</a></div><div class="ttdeci">void uart_rx_intr_enable(uint8 uart_no)</div><div class="ttdef"><b>Definition:</b> uart.c:658</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a2cd7fe69ace8fd91a1e79c798c3c7688"><div class="ttname"><a href="driver_2uart__register_8h.html#a2cd7fe69ace8fd91a1e79c798c3c7688">UART_RXFIFO_TOUT_INT_CLR</a></div><div class="ttdeci">#define UART_RXFIFO_TOUT_INT_CLR</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:69</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ae9d6ce323b6534461cfaf1f6bd797f31"><div class="ttname"><a href="driver_2uart__register_8h.html#ae9d6ce323b6534461cfaf1f6bd797f31">UART_RXFIFO_CNT</a></div><div class="ttdeci">#define UART_RXFIFO_CNT</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:97</div></div>
<div class="ttc" id="c__types_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdef"><b>Definition:</b> c_types.h:43</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a760503f72822d1975589fc0e4be1d482"><div class="ttname"><a href="driver_2uart__register_8h.html#a760503f72822d1975589fc0e4be1d482">UART_RXFIFO_CNT_S</a></div><div class="ttdeci">#define UART_RXFIFO_CNT_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:98</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a9807543880b8867e285033b87c721324"><div class="ttname"><a href="driver_2uart__register_8h.html#a9807543880b8867e285033b87c721324">UART_RXFIFO_FULL_INT_CLR</a></div><div class="ttdeci">#define UART_RXFIFO_FULL_INT_CLR</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:77</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0508661f121639ffdee7de2353a0def2"><div class="ttname"><a href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a></div><div class="ttdeci">#define UART0</div><div class="ttdef"><b>Definition:</b> driver/uart.h:56</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aa069c3a91501d33accc3c760840fd29a"><div class="ttname"><a href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a></div><div class="ttdeci">#define UART_STATUS(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:88</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a100bbf8ae46bfc48a6bc9a927d100917"><div class="ttname"><a href="driver_2uart__register_8h.html#a100bbf8ae46bfc48a6bc9a927d100917">UART_FIFO</a></div><div class="ttdeci">#define UART_FIFO(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:31</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a4a450c7ddda3d960c70a0ceac5e19b9b"><div class="ttname"><a href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a></div><div class="ttdeci">#define UART_INT_CLR(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:68</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a99582b04a744bf2dfb261ab045e8f6bd_cgraph.png" border="0" usemap="#uart_8c_a99582b04a744bf2dfb261ab045e8f6bd_cgraph" alt=""/></div>
<map name="uart_8c_a99582b04a744bf2dfb261ab045e8f6bd_cgraph" id="uart_8c_a99582b04a744bf2dfb261ab045e8f6bd_cgraph">
<area shape="rect" id="node2" href="driver_2uart_8h.html#af5433496db26d6d111aa0d410768e663" title="Uart_rx_buff_enq" alt="" coords="163,5,281,32"/><area shape="rect" id="node3" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="161,56,283,83"/><area shape="rect" id="node4" href="uart_8c.html#adbb32bf5331e41dea87a773842649535" title="uart_rx_intr_enable" alt="" coords="156,107,288,133"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a99582b04a744bf2dfb261ab045e8f6bd_icgraph.png" border="0" usemap="#uart_8c_a99582b04a744bf2dfb261ab045e8f6bd_icgraph" alt=""/></div>
<map name="uart_8c_a99582b04a744bf2dfb261ab045e8f6bd_icgraph" id="uart_8c_a99582b04a744bf2dfb261ab045e8f6bd_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#af4416966da7cba189e7998334e2a0bee" title="uart_init" alt="" coords="156,31,224,57"/><area shape="rect" id="node3" href="uart_8c.html#a15a9e8dca40ebbeea858ce8f081c06cf" title="uart_reattach" alt="" coords="272,5,371,32"/><area shape="rect" id="node4" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="286,56,357,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af4416966da7cba189e7998334e2a0bee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> uart_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545d">UartBautRate</a>&#160;</td>
          <td class="paramname"><em>uart0_br</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545d">UartBautRate</a>&#160;</td>
          <td class="paramname"><em>uart1_br</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;{</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">/*this is a example to process uart data from task,please change the priority to fit your application task if exists*/</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="user__interface_8h.html#a7c5f9848e9291e4ccb9dbbfaad452e9d">system_os_task</a>(<a class="code" href="uart_8c.html#a99582b04a744bf2dfb261ab045e8f6bd">uart_recvTask</a>, <a class="code" href="uart_8c.html#ac8ab53bbc13f04a3bc800b062b66f7a9">uart_recvTaskPrio</a>, <a class="code" href="uart_8c.html#a7133fc66b588d16e614425d5985cacba">uart_recvTaskQueue</a>, <a class="code" href="uart_8c.html#ae3ba3d87871833cff3d51bcc96755e57">uart_recvTaskQueueLen</a>);  <span class="comment">//demo with a task to process the uart data</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#a1a6982e54a4c80d03248d97aa4e7f57c">baut_rate</a> = uart0_br;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6">uart_config</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#a1a6982e54a4c80d03248d97aa4e7f57c">baut_rate</a> = uart1_br;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6">uart_config</a>(<a class="code" href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="ets__sys_8h.html#adcb1c98e19fde806010cbbc84880407a">ETS_UART_INTR_ENABLE</a>();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="preprocessor">    #if UART_BUFF_EN</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor"></span>    <a class="code" href="uart_8c.html#ab081a3724478b5ab806f8729fa10def7">pTxBuffer</a> = <a class="code" href="driver_2uart_8h.html#ae5b7c7a49be827c01bead110b330c09a">Uart_Buf_Init</a>(<a class="code" href="driver_2uart_8h.html#a05f5d709605c6317c97e4974bec3402a">UART_TX_BUFFER_SIZE</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <a class="code" href="uart_8c.html#ae856c1f6c1dad0036ae5fb7e88eeed8b">pRxBuffer</a> = <a class="code" href="driver_2uart_8h.html#ae5b7c7a49be827c01bead110b330c09a">Uart_Buf_Init</a>(<a class="code" href="driver_2uart_8h.html#a5bdd6772c246436bb14377095de79b31">UART_RX_BUFFER_SIZE</a>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">/*option 1: use default print, output from uart0 , will wait some time if fifo is full */</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">//do nothing...</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">/*option 2: output from uart1,uart1 output will not wait , just for output debug info */</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">/*os_printf output uart data via uart1(GPIO2)*/</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">//os_install_putc1((void *)uart1_write_char);    //use this one to output debug information via uart1 //</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">/*option 3: output from uart0 will skip current byte if fifo is full now... */</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">/*see uart0_write_char_no_wait:you can output via a buffer or output directly */</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">/*os_printf output uart data via uart0 or uart buffer*/</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">//os_install_putc1((void *)uart0_write_char_no_wait);  //use this to print via uart0</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor">    #if UART_SELFTEST&amp;UART_BUFF_EN</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="preprocessor"></span>    <a class="code" href="osapi_8h.html#a145a0d6ea21ada427fb33c16a1f3ea8b">os_timer_disarm</a>(&amp;buff_timer_t);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <a class="code" href="osapi_8h.html#a5eb7d40dec8827c48891b85bc61f4913">os_timer_setfn</a>(&amp;buff_timer_t, uart_test_rx , <a class="code" href="c__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);   <span class="comment">//a demo to process the data in uart rx buffer</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="osapi_8h.html#ad68ee287209d12b5067c5d80fea25c09">os_timer_arm</a>(&amp;buff_timer_t,10,1);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="osapi_8h_html_a145a0d6ea21ada427fb33c16a1f3ea8b"><div class="ttname"><a href="osapi_8h.html#a145a0d6ea21ada427fb33c16a1f3ea8b">os_timer_disarm</a></div><div class="ttdeci">#define os_timer_disarm</div><div class="ttdef"><b>Definition:</b> osapi.h:51</div></div>
<div class="ttc" id="driver_2uart_8h_html_a05f5d709605c6317c97e4974bec3402a"><div class="ttname"><a href="driver_2uart_8h.html#a05f5d709605c6317c97e4974bec3402a">UART_TX_BUFFER_SIZE</a></div><div class="ttdeci">#define UART_TX_BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> driver/uart.h:47</div></div>
<div class="ttc" id="ets__sys_8h_html_adcb1c98e19fde806010cbbc84880407a"><div class="ttname"><a href="ets__sys_8h.html#adcb1c98e19fde806010cbbc84880407a">ETS_UART_INTR_ENABLE</a></div><div class="ttdeci">#define ETS_UART_INTR_ENABLE()</div><div class="ttdef"><b>Definition:</b> ets_sys.h:93</div></div>
<div class="ttc" id="struct_uart_device_html_a1a6982e54a4c80d03248d97aa4e7f57c"><div class="ttname"><a href="struct_uart_device.html#a1a6982e54a4c80d03248d97aa4e7f57c">UartDevice::baut_rate</a></div><div class="ttdeci">UartBautRate baut_rate</div><div class="ttdef"><b>Definition:</b> driver/uart.h:153</div></div>
<div class="ttc" id="driver_2uart_8h_html_a5bdd6772c246436bb14377095de79b31"><div class="ttname"><a href="driver_2uart_8h.html#a5bdd6772c246436bb14377095de79b31">UART_RX_BUFFER_SIZE</a></div><div class="ttdeci">#define UART_RX_BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> driver/uart.h:48</div></div>
<div class="ttc" id="uart_8c_html_a7133fc66b588d16e614425d5985cacba"><div class="ttname"><a href="uart_8c.html#a7133fc66b588d16e614425d5985cacba">uart_recvTaskQueue</a></div><div class="ttdeci">os_event_t uart_recvTaskQueue[uart_recvTaskQueueLen]</div><div class="ttdef"><b>Definition:</b> uart.c:52</div></div>
<div class="ttc" id="uart_8c_html_ae3ba3d87871833cff3d51bcc96755e57"><div class="ttname"><a href="uart_8c.html#ae3ba3d87871833cff3d51bcc96755e57">uart_recvTaskQueueLen</a></div><div class="ttdeci">#define uart_recvTaskQueueLen</div><div class="ttdef"><b>Definition:</b> uart.c:51</div></div>
<div class="ttc" id="osapi_8h_html_a5eb7d40dec8827c48891b85bc61f4913"><div class="ttname"><a href="osapi_8h.html#a5eb7d40dec8827c48891b85bc61f4913">os_timer_setfn</a></div><div class="ttdeci">#define os_timer_setfn</div><div class="ttdef"><b>Definition:</b> osapi.h:52</div></div>
<div class="ttc" id="user__interface_8h_html_a7c5f9848e9291e4ccb9dbbfaad452e9d"><div class="ttname"><a href="user__interface_8h.html#a7c5f9848e9291e4ccb9dbbfaad452e9d">system_os_task</a></div><div class="ttdeci">bool system_os_task(os_task_t task, uint8 prio, os_event_t *queue, uint8 qlen)</div></div>
<div class="ttc" id="uart_8c_html_a489b77b74dfee22fd4f0c5323ab44da6"><div class="ttname"><a href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6">uart_config</a></div><div class="ttdeci">LOCAL void ICACHE_FLASH_ATTR uart_config(uint8 uart_no)</div><div class="ttdef"><b>Definition:</b> uart.c:70</div></div>
<div class="ttc" id="driver_2uart_8h_html_ae5b7c7a49be827c01bead110b330c09a"><div class="ttname"><a href="driver_2uart_8h.html#ae5b7c7a49be827c01bead110b330c09a">Uart_Buf_Init</a></div><div class="ttdeci">struct UartBuffer * Uart_Buf_Init()</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0508661f121639ffdee7de2353a0def2"><div class="ttname"><a href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a></div><div class="ttdeci">#define UART0</div><div class="ttdef"><b>Definition:</b> driver/uart.h:56</div></div>
<div class="ttc" id="c__types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="c__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> c_types.h:73</div></div>
<div class="ttc" id="uart_8c_html_ae856c1f6c1dad0036ae5fb7e88eeed8b"><div class="ttname"><a href="uart_8c.html#ae856c1f6c1dad0036ae5fb7e88eeed8b">pRxBuffer</a></div><div class="ttdeci">LOCAL struct UartBuffer * pRxBuffer</div><div class="ttdef"><b>Definition:</b> uart.c:45</div></div>
<div class="ttc" id="uart_8c_html_a99582b04a744bf2dfb261ab045e8f6bd"><div class="ttname"><a href="uart_8c.html#a99582b04a744bf2dfb261ab045e8f6bd">uart_recvTask</a></div><div class="ttdeci">LOCAL void ICACHE_FLASH_ATTR uart_recvTask(os_event_t *events)</div><div class="ttdef"><b>Definition:</b> uart.c:326</div></div>
<div class="ttc" id="uart_8c_html_ac8ab53bbc13f04a3bc800b062b66f7a9"><div class="ttname"><a href="uart_8c.html#ac8ab53bbc13f04a3bc800b062b66f7a9">uart_recvTaskPrio</a></div><div class="ttdeci">#define uart_recvTaskPrio</div><div class="ttdef"><b>Definition:</b> uart.c:50</div></div>
<div class="ttc" id="osapi_8h_html_ad68ee287209d12b5067c5d80fea25c09"><div class="ttname"><a href="osapi_8h.html#ad68ee287209d12b5067c5d80fea25c09">os_timer_arm</a></div><div class="ttdeci">#define os_timer_arm(a, b, c)</div><div class="ttdef"><b>Definition:</b> osapi.h:50</div></div>
<div class="ttc" id="uart_8c_html_abe863f238818002e1dd96aad8a48c927"><div class="ttname"><a href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a></div><div class="ttdeci">UartDevice UartDev</div></div>
<div class="ttc" id="driver_2uart_8h_html_a8d69bf04d07af4fbbab5a8bd291f65ff"><div class="ttname"><a href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a></div><div class="ttdeci">#define UART1</div><div class="ttdef"><b>Definition:</b> driver/uart.h:57</div></div>
<div class="ttc" id="uart_8c_html_ab081a3724478b5ab806f8729fa10def7"><div class="ttname"><a href="uart_8c.html#ab081a3724478b5ab806f8729fa10def7">pTxBuffer</a></div><div class="ttdeci">LOCAL struct UartBuffer * pTxBuffer</div><div class="ttdef"><b>Definition:</b> uart.c:44</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_af4416966da7cba189e7998334e2a0bee_cgraph.png" border="0" usemap="#uart_8c_af4416966da7cba189e7998334e2a0bee_cgraph" alt=""/></div>
<map name="uart_8c_af4416966da7cba189e7998334e2a0bee_cgraph" id="uart_8c_af4416966da7cba189e7998334e2a0bee_cgraph">
<area shape="rect" id="node2" href="user__interface_8h.html#a7c5f9848e9291e4ccb9dbbfaad452e9d" title="system_os_task" alt="" coords="121,31,240,57"/><area shape="rect" id="node3" href="uart_8c.html#a99582b04a744bf2dfb261ab045e8f6bd" title="uart_recvTask" alt="" coords="129,81,232,108"/><area shape="rect" id="node7" href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6" title="uart_config" alt="" coords="138,132,223,159"/><area shape="rect" id="node12" href="driver_2uart_8h.html#ae5b7c7a49be827c01bead110b330c09a" title="Uart_Buf_Init" alt="" coords="133,183,229,209"/><area shape="rect" id="node4" href="driver_2uart_8h.html#af5433496db26d6d111aa0d410768e663" title="Uart_rx_buff_enq" alt="" coords="300,5,419,32"/><area shape="rect" id="node5" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="298,56,421,83"/><area shape="rect" id="node6" href="uart_8c.html#adbb32bf5331e41dea87a773842649535" title="uart_rx_intr_enable" alt="" coords="293,107,425,133"/><area shape="rect" id="node8" href="uart_8c.html#a899cd55c7d84717f3e869e4ee5bfda84" title="uart0_rx_intr_handler" alt="" coords="288,157,431,184"/><area shape="rect" id="node9" href="uart_8c.html#a66498d65854712e438ab711b511e0155" title="uart_rx_intr_disable" alt="" coords="479,107,613,133"/><area shape="rect" id="node10" href="user__interface_8h.html#adab1155f3a463f2b05a9bde65b37514f" title="system_os_post" alt="" coords="487,157,605,184"/><area shape="rect" id="node11" href="driver_2uart_8h.html#ae4702ed894330fc8b2099cb90a5bf4aa" title="tx_start_uart_buffer" alt="" coords="479,208,613,235"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_af4416966da7cba189e7998334e2a0bee_icgraph.png" border="0" usemap="#uart_8c_af4416966da7cba189e7998334e2a0bee_icgraph" alt=""/></div>
<map name="uart_8c_af4416966da7cba189e7998334e2a0bee_icgraph" id="uart_8c_af4416966da7cba189e7998334e2a0bee_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a15a9e8dca40ebbeea858ce8f081c06cf" title="uart_reattach" alt="" coords="121,5,220,32"/><area shape="rect" id="node3" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="135,56,206,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a15a9e8dca40ebbeea858ce8f081c06cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> uart_reattach </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="uart_8c.html#af4416966da7cba189e7998334e2a0bee">uart_init</a>(<a class="code" href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545dace379f00ef7ff498cbee2a444d896e63">BIT_RATE_115200</a>, <a class="code" href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545dace379f00ef7ff498cbee2a444d896e63">BIT_RATE_115200</a>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;}</div>
<div class="ttc" id="driver_2uart_8h_html_a6e376e04a3f78e8319a5dcd9ee6d545dace379f00ef7ff498cbee2a444d896e63"><div class="ttname"><a href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545dace379f00ef7ff498cbee2a444d896e63">BIT_RATE_115200</a></div><div class="ttdef"><b>Definition:</b> driver/uart.h:103</div></div>
<div class="ttc" id="uart_8c_html_af4416966da7cba189e7998334e2a0bee"><div class="ttname"><a href="uart_8c.html#af4416966da7cba189e7998334e2a0bee">uart_init</a></div><div class="ttdeci">void ICACHE_FLASH_ATTR uart_init(UartBautRate uart0_br, UartBautRate uart1_br)</div><div class="ttdef"><b>Definition:</b> uart.c:353</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a15a9e8dca40ebbeea858ce8f081c06cf_cgraph.png" border="0" usemap="#uart_8c_a15a9e8dca40ebbeea858ce8f081c06cf_cgraph" alt=""/></div>
<map name="uart_8c_a15a9e8dca40ebbeea858ce8f081c06cf_cgraph" id="uart_8c_a15a9e8dca40ebbeea858ce8f081c06cf_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#af4416966da7cba189e7998334e2a0bee" title="uart_init" alt="" coords="152,107,220,133"/><area shape="rect" id="node3" href="user__interface_8h.html#a7c5f9848e9291e4ccb9dbbfaad452e9d" title="system_os_task" alt="" coords="268,31,387,57"/><area shape="rect" id="node4" href="uart_8c.html#a99582b04a744bf2dfb261ab045e8f6bd" title="uart_recvTask" alt="" coords="276,81,379,108"/><area shape="rect" id="node8" href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6" title="uart_config" alt="" coords="285,132,370,159"/><area shape="rect" id="node13" href="driver_2uart_8h.html#ae5b7c7a49be827c01bead110b330c09a" title="Uart_Buf_Init" alt="" coords="279,183,375,209"/><area shape="rect" id="node5" href="driver_2uart_8h.html#af5433496db26d6d111aa0d410768e663" title="Uart_rx_buff_enq" alt="" coords="447,5,565,32"/><area shape="rect" id="node6" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="445,56,567,83"/><area shape="rect" id="node7" href="uart_8c.html#adbb32bf5331e41dea87a773842649535" title="uart_rx_intr_enable" alt="" coords="440,107,572,133"/><area shape="rect" id="node9" href="uart_8c.html#a899cd55c7d84717f3e869e4ee5bfda84" title="uart0_rx_intr_handler" alt="" coords="435,157,577,184"/><area shape="rect" id="node10" href="uart_8c.html#a66498d65854712e438ab711b511e0155" title="uart_rx_intr_disable" alt="" coords="625,107,760,133"/><area shape="rect" id="node11" href="user__interface_8h.html#adab1155f3a463f2b05a9bde65b37514f" title="system_os_post" alt="" coords="633,157,752,184"/><area shape="rect" id="node12" href="driver_2uart_8h.html#ae4702ed894330fc8b2099cb90a5bf4aa" title="tx_start_uart_buffer" alt="" coords="626,208,759,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a049fe09b0bc6d87a403c418e5f681945"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4">STATUS</a> uart_tx_one_char_no_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>TxChar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> fifo_cnt = (( <a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a>(uart))&gt;&gt;<a class="code" href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a>)&amp; <a class="code" href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (fifo_cnt &lt; 126) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a100bbf8ae46bfc48a6bc9a927d100917">UART_FIFO</a>(uart) , TxChar);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    }</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4a2bc49ec37d6a5715dd23e85f1ff5bb59">OK</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_a450a8df365d3306ea53de5763b6a51e5"><div class="ttname"><a href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a></div><div class="ttdeci">#define UART_TXFIFO_CNT_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:93</div></div>
<div class="ttc" id="eagle__soc_8h_html_a14c110c5360780defb1aa84ff53933d3"><div class="ttname"><a href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a></div><div class="ttdeci">#define READ_PERI_REG(addr)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:68</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a95d6f1cf76090799914abd3fccfa8a96"><div class="ttname"><a href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a></div><div class="ttdeci">#define UART_TXFIFO_CNT</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:92</div></div>
<div class="ttc" id="eagle__soc_8h_html_a771037d188a1c185dd90c2019a896d03"><div class="ttname"><a href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a></div><div class="ttdeci">#define WRITE_PERI_REG(addr, val)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:69</div></div>
<div class="ttc" id="c__types_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdef"><b>Definition:</b> c_types.h:43</div></div>
<div class="ttc" id="c__types_8h_html_a32c27cc471df37f4fc818d65de0a56c4a2bc49ec37d6a5715dd23e85f1ff5bb59"><div class="ttname"><a href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4a2bc49ec37d6a5715dd23e85f1ff5bb59">OK</a></div><div class="ttdef"><b>Definition:</b> c_types.h:78</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aa069c3a91501d33accc3c760840fd29a"><div class="ttname"><a href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a></div><div class="ttdeci">#define UART_STATUS(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:88</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a100bbf8ae46bfc48a6bc9a927d100917"><div class="ttname"><a href="driver_2uart__register_8h.html#a100bbf8ae46bfc48a6bc9a927d100917">UART_FIFO</a></div><div class="ttdeci">#define UART_FIFO(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:31</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a049fe09b0bc6d87a403c418e5f681945_icgraph.png" border="0" usemap="#uart_8c_a049fe09b0bc6d87a403c418e5f681945_icgraph" alt=""/></div>
<map name="uart_8c_a049fe09b0bc6d87a403c418e5f681945_icgraph" id="uart_8c_a049fe09b0bc6d87a403c418e5f681945_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#ac6574203b3e972e584ebf57acb04f6b4" title="uart0_write_char_no_wait" alt="" coords="227,5,395,32"/><area shape="rect" id="node5" href="uart_8c.html#a0edeee3a750f552891982ee1e4590494" title="uart1_sendStr_no_wait" alt="" coords="233,56,388,83"/><area shape="rect" id="node3" href="uart_8c.html#a049f0d5eba74bf0f2fb7021964d6af54" title="UART_SetPrintPort" alt="" coords="443,5,577,32"/><area shape="rect" id="node4" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="625,5,696,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8b784ffad0b94934dc831c8ce1aa1a54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4">STATUS</a> uart0_tx_one_char_no_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>TxChar</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;{</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> fifo_cnt = (( <a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>))&gt;&gt;<a class="code" href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a>)&amp; <a class="code" href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span> (fifo_cnt &lt; 126) {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a100bbf8ae46bfc48a6bc9a927d100917">UART_FIFO</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>) , TxChar);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4a2bc49ec37d6a5715dd23e85f1ff5bb59">OK</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_a450a8df365d3306ea53de5763b6a51e5"><div class="ttname"><a href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a></div><div class="ttdeci">#define UART_TXFIFO_CNT_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:93</div></div>
<div class="ttc" id="eagle__soc_8h_html_a14c110c5360780defb1aa84ff53933d3"><div class="ttname"><a href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a></div><div class="ttdeci">#define READ_PERI_REG(addr)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:68</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a95d6f1cf76090799914abd3fccfa8a96"><div class="ttname"><a href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a></div><div class="ttdeci">#define UART_TXFIFO_CNT</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:92</div></div>
<div class="ttc" id="eagle__soc_8h_html_a771037d188a1c185dd90c2019a896d03"><div class="ttname"><a href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a></div><div class="ttdeci">#define WRITE_PERI_REG(addr, val)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:69</div></div>
<div class="ttc" id="c__types_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdef"><b>Definition:</b> c_types.h:43</div></div>
<div class="ttc" id="c__types_8h_html_a32c27cc471df37f4fc818d65de0a56c4a2bc49ec37d6a5715dd23e85f1ff5bb59"><div class="ttname"><a href="c__types_8h.html#a32c27cc471df37f4fc818d65de0a56c4a2bc49ec37d6a5715dd23e85f1ff5bb59">OK</a></div><div class="ttdef"><b>Definition:</b> c_types.h:78</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0508661f121639ffdee7de2353a0def2"><div class="ttname"><a href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a></div><div class="ttdeci">#define UART0</div><div class="ttdef"><b>Definition:</b> driver/uart.h:56</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aa069c3a91501d33accc3c760840fd29a"><div class="ttname"><a href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a></div><div class="ttdeci">#define UART_STATUS(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:88</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a100bbf8ae46bfc48a6bc9a927d100917"><div class="ttname"><a href="driver_2uart__register_8h.html#a100bbf8ae46bfc48a6bc9a927d100917">UART_FIFO</a></div><div class="ttdeci">#define UART_FIFO(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:31</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0edeee3a750f552891982ee1e4590494"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart1_sendStr_no_wait </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;{</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">while</span>(*str){</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="uart_8c.html#a049fe09b0bc6d87a403c418e5f681945">uart_tx_one_char_no_wait</a>(<a class="code" href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a>, *str++);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div>
<div class="ttc" id="uart_8c_html_a049fe09b0bc6d87a403c418e5f681945"><div class="ttname"><a href="uart_8c.html#a049fe09b0bc6d87a403c418e5f681945">uart_tx_one_char_no_wait</a></div><div class="ttdeci">STATUS uart_tx_one_char_no_wait(uint8 uart, uint8 TxChar)</div><div class="ttdef"><b>Definition:</b> uart.c:402</div></div>
<div class="ttc" id="driver_2uart_8h_html_a8d69bf04d07af4fbbab5a8bd291f65ff"><div class="ttname"><a href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a></div><div class="ttdeci">#define UART1</div><div class="ttdef"><b>Definition:</b> driver/uart.h:57</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a0edeee3a750f552891982ee1e4590494_cgraph.png" border="0" usemap="#uart_8c_a0edeee3a750f552891982ee1e4590494_cgraph" alt=""/></div>
<map name="uart_8c_a0edeee3a750f552891982ee1e4590494_cgraph" id="uart_8c_a0edeee3a750f552891982ee1e4590494_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#a049fe09b0bc6d87a403c418e5f681945" title="uart_tx_one_char_no_wait" alt="" coords="208,5,381,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a66498d65854712e438ab711b511e0155"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_rx_intr_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;{</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="preprocessor">#if 1</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="preprocessor"></span>    <a class="code" href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#adf96029f1be0842496155dcc8f6868de">UART_RXFIFO_FULL_INT_ENA</a>|<a class="code" href="driver_2uart__register_8h.html#ae07a4ee9c7e3c6828d0a2e0a3e4da0bf">UART_RXFIFO_TOUT_INT_ENA</a>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="preprocessor"></span>    <a class="code" href="ets__sys_8h.html#ae80b2e325a24f9a4003261c152657eca">ETS_UART_INTR_DISABLE</a>();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="driver_2uart__register_8h_html_adf96029f1be0842496155dcc8f6868de"><div class="ttname"><a href="driver_2uart__register_8h.html#adf96029f1be0842496155dcc8f6868de">UART_RXFIFO_FULL_INT_ENA</a></div><div class="ttdeci">#define UART_RXFIFO_FULL_INT_ENA</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:66</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac6ce538b7a0389b41640e89990d0d76d"><div class="ttname"><a href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a></div><div class="ttdeci">#define UART_INT_ENA(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:57</div></div>
<div class="ttc" id="eagle__soc_8h_html_a49d2f71a1c594fe3aaf913ba9de688f9"><div class="ttname"><a href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a></div><div class="ttdeci">#define CLEAR_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:70</div></div>
<div class="ttc" id="ets__sys_8h_html_ae80b2e325a24f9a4003261c152657eca"><div class="ttname"><a href="ets__sys_8h.html#ae80b2e325a24f9a4003261c152657eca">ETS_UART_INTR_DISABLE</a></div><div class="ttdeci">#define ETS_UART_INTR_DISABLE()</div><div class="ttdef"><b>Definition:</b> ets_sys.h:96</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ae07a4ee9c7e3c6828d0a2e0a3e4da0bf"><div class="ttname"><a href="driver_2uart__register_8h.html#ae07a4ee9c7e3c6828d0a2e0a3e4da0bf">UART_RXFIFO_TOUT_INT_ENA</a></div><div class="ttdeci">#define UART_RXFIFO_TOUT_INT_ENA</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:58</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a66498d65854712e438ab711b511e0155_icgraph.png" border="0" usemap="#uart_8c_a66498d65854712e438ab711b511e0155_icgraph" alt=""/></div>
<map name="uart_8c_a66498d65854712e438ab711b511e0155_icgraph" id="uart_8c_a66498d65854712e438ab711b511e0155_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a899cd55c7d84717f3e869e4ee5bfda84" title="uart0_rx_intr_handler" alt="" coords="188,56,331,83"/><area shape="rect" id="node3" href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6" title="uart_config" alt="" coords="379,56,464,83"/><area shape="rect" id="node4" href="uart_8c.html#af4416966da7cba189e7998334e2a0bee" title="uart_init" alt="" coords="519,31,587,57"/><area shape="rect" id="node7" href="uart_8c.html#a04be0eb8c6c4685b81b32b20bb1cfa72" title="uart_init_2" alt="" coords="512,81,595,108"/><area shape="rect" id="node5" href="uart_8c.html#a15a9e8dca40ebbeea858ce8f081c06cf" title="uart_reattach" alt="" coords="643,5,741,32"/><area shape="rect" id="node6" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="657,56,727,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adbb32bf5331e41dea87a773842649535"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uart_rx_intr_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;{</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">#if 1</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="preprocessor"></span>    <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#adf96029f1be0842496155dcc8f6868de">UART_RXFIFO_FULL_INT_ENA</a>|<a class="code" href="driver_2uart__register_8h.html#ae07a4ee9c7e3c6828d0a2e0a3e4da0bf">UART_RXFIFO_TOUT_INT_ENA</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="preprocessor"></span>    <a class="code" href="ets__sys_8h.html#adcb1c98e19fde806010cbbc84880407a">ETS_UART_INTR_ENABLE</a>();</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="preprocessor"></span>}</div>
<div class="ttc" id="driver_2uart__register_8h_html_adf96029f1be0842496155dcc8f6868de"><div class="ttname"><a href="driver_2uart__register_8h.html#adf96029f1be0842496155dcc8f6868de">UART_RXFIFO_FULL_INT_ENA</a></div><div class="ttdeci">#define UART_RXFIFO_FULL_INT_ENA</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:66</div></div>
<div class="ttc" id="ets__sys_8h_html_adcb1c98e19fde806010cbbc84880407a"><div class="ttname"><a href="ets__sys_8h.html#adcb1c98e19fde806010cbbc84880407a">ETS_UART_INTR_ENABLE</a></div><div class="ttdeci">#define ETS_UART_INTR_ENABLE()</div><div class="ttdef"><b>Definition:</b> ets_sys.h:93</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac6ce538b7a0389b41640e89990d0d76d"><div class="ttname"><a href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a></div><div class="ttdeci">#define UART_INT_ENA(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:57</div></div>
<div class="ttc" id="eagle__soc_8h_html_aa517f1b5879c555db159ad34fea2475f"><div class="ttname"><a href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a></div><div class="ttdeci">#define SET_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:71</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ae07a4ee9c7e3c6828d0a2e0a3e4da0bf"><div class="ttname"><a href="driver_2uart__register_8h.html#ae07a4ee9c7e3c6828d0a2e0a3e4da0bf">UART_RXFIFO_TOUT_INT_ENA</a></div><div class="ttdeci">#define UART_RXFIFO_TOUT_INT_ENA</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:58</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_adbb32bf5331e41dea87a773842649535_icgraph.png" border="0" usemap="#uart_8c_adbb32bf5331e41dea87a773842649535_icgraph" alt=""/></div>
<map name="uart_8c_adbb32bf5331e41dea87a773842649535_icgraph" id="uart_8c_adbb32bf5331e41dea87a773842649535_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a99582b04a744bf2dfb261ab045e8f6bd" title="uart_recvTask" alt="" coords="185,31,288,57"/><area shape="rect" id="node3" href="uart_8c.html#af4416966da7cba189e7998334e2a0bee" title="uart_init" alt="" coords="336,31,404,57"/><area shape="rect" id="node4" href="uart_8c.html#a15a9e8dca40ebbeea858ce8f081c06cf" title="uart_reattach" alt="" coords="452,5,551,32"/><area shape="rect" id="node5" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="466,56,537,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae515be6247217577f929156f37332723"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> void uart0_write_char </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;{</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>, <span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <a class="code" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\r&#39;</span>) {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <a class="code" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>, c);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div>
<div class="ttc" id="uart_8c_html_a40bca7ca9b269f93bc9f17924a38fbe0"><div class="ttname"><a href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0">uart_tx_one_char</a></div><div class="ttdeci">STATUS uart_tx_one_char(uint8 uart, uint8 TxChar)</div><div class="ttdef"><b>Definition:</b> uart.c:128</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0508661f121639ffdee7de2353a0def2"><div class="ttname"><a href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a></div><div class="ttdeci">#define UART0</div><div class="ttdef"><b>Definition:</b> driver/uart.h:56</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_ae515be6247217577f929156f37332723_cgraph.png" border="0" usemap="#uart_8c_ae515be6247217577f929156f37332723_cgraph" alt=""/></div>
<map name="uart_8c_ae515be6247217577f929156f37332723_cgraph" id="uart_8c_ae515be6247217577f929156f37332723_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="171,5,293,32"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_ae515be6247217577f929156f37332723_icgraph.png" border="0" usemap="#uart_8c_ae515be6247217577f929156f37332723_icgraph" alt=""/></div>
<map name="uart_8c_ae515be6247217577f929156f37332723_icgraph" id="uart_8c_ae515be6247217577f929156f37332723_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a049f0d5eba74bf0f2fb7021964d6af54" title="UART_SetPrintPort" alt="" coords="171,5,305,32"/><area shape="rect" id="node3" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="353,5,424,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a03292825802b967e1503e70420346faa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_SetWordLength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="driver_2uart_8h.html#a1a800ab02eb9805becdea40a047e2e25">UartBitsNum4Char</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;{</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <a class="code" href="eagle__soc_8h.html#acb32c0786c849675ccb667b47175c638">SET_PERI_REG_BITS</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no),<a class="code" href="driver_2uart__register_8h.html#ab55bccd82a4b0403473a4f02f48c6777">UART_BIT_NUM</a>,len,<a class="code" href="driver_2uart__register_8h.html#a399cfc26a21527b14d3df9ad369577c6">UART_BIT_NUM_S</a>);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_a92e318703bd3a12db8856182b046f76f"><div class="ttname"><a href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a></div><div class="ttdeci">#define UART_CONF0(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:100</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ab55bccd82a4b0403473a4f02f48c6777"><div class="ttname"><a href="driver_2uart__register_8h.html#ab55bccd82a4b0403473a4f02f48c6777">UART_BIT_NUM</a></div><div class="ttdeci">#define UART_BIT_NUM</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:122</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a399cfc26a21527b14d3df9ad369577c6"><div class="ttname"><a href="driver_2uart__register_8h.html#a399cfc26a21527b14d3df9ad369577c6">UART_BIT_NUM_S</a></div><div class="ttdeci">#define UART_BIT_NUM_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:123</div></div>
<div class="ttc" id="eagle__soc_8h_html_acb32c0786c849675ccb667b47175c638"><div class="ttname"><a href="eagle__soc_8h.html#acb32c0786c849675ccb667b47175c638">SET_PERI_REG_BITS</a></div><div class="ttdeci">#define SET_PERI_REG_BITS(reg, bit_map, value, shift)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:73</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a59c77c5c1941e1fe93c92747d386d6f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_SetStopBits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="driver_2uart_8h.html#a0ecb1f01cc124cfef8bb7dbfe6c9c1d5">UartStopBitsNum</a>&#160;</td>
          <td class="paramname"><em>bit_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;{</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <a class="code" href="eagle__soc_8h.html#acb32c0786c849675ccb667b47175c638">SET_PERI_REG_BITS</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no),<a class="code" href="driver_2uart__register_8h.html#a81f3a162f93893a91bdbfaff4e8336ab">UART_STOP_BIT_NUM</a>,bit_num,<a class="code" href="driver_2uart__register_8h.html#af9ece8de00d49ade7f6e85a6270130bd">UART_STOP_BIT_NUM_S</a>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_a92e318703bd3a12db8856182b046f76f"><div class="ttname"><a href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a></div><div class="ttdeci">#define UART_CONF0(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:100</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_af9ece8de00d49ade7f6e85a6270130bd"><div class="ttname"><a href="driver_2uart__register_8h.html#af9ece8de00d49ade7f6e85a6270130bd">UART_STOP_BIT_NUM_S</a></div><div class="ttdeci">#define UART_STOP_BIT_NUM_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:121</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a81f3a162f93893a91bdbfaff4e8336ab"><div class="ttname"><a href="driver_2uart__register_8h.html#a81f3a162f93893a91bdbfaff4e8336ab">UART_STOP_BIT_NUM</a></div><div class="ttdeci">#define UART_STOP_BIT_NUM</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:120</div></div>
<div class="ttc" id="eagle__soc_8h_html_acb32c0786c849675ccb667b47175c638"><div class="ttname"><a href="eagle__soc_8h.html#acb32c0786c849675ccb667b47175c638">SET_PERI_REG_BITS</a></div><div class="ttdeci">#define SET_PERI_REG_BITS(reg, bit_map, value, shift)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:73</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa11a3c29be53150cac49cc16cf0f222e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_SetLineInverse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="driver_2uart_8h.html#ab469271d6668e2a8406727f02a0127b3">UART_LineLevelInverse</a>&#160;</td>
          <td class="paramname"><em>inverse_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;{</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), <a class="code" href="driver_2uart_8h.html#a7652c930ed7eb1841c38419905e5eafd">UART_LINE_INV_MASK</a>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), inverse_mask);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_a92e318703bd3a12db8856182b046f76f"><div class="ttname"><a href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a></div><div class="ttdeci">#define UART_CONF0(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:100</div></div>
<div class="ttc" id="eagle__soc_8h_html_a49d2f71a1c594fe3aaf913ba9de688f9"><div class="ttname"><a href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a></div><div class="ttdeci">#define CLEAR_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:70</div></div>
<div class="ttc" id="driver_2uart_8h_html_a7652c930ed7eb1841c38419905e5eafd"><div class="ttname"><a href="driver_2uart_8h.html#a7652c930ed7eb1841c38419905e5eafd">UART_LINE_INV_MASK</a></div><div class="ttdeci">#define UART_LINE_INV_MASK</div><div class="ttdef"><b>Definition:</b> driver/uart.h:225</div></div>
<div class="ttc" id="eagle__soc_8h_html_aa517f1b5879c555db159ad34fea2475f"><div class="ttname"><a href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a></div><div class="ttdeci">#define SET_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:71</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ed2c7a5cea3b89d26ebbd921b7b64a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_SetParity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="driver_2uart_8h.html#acb045cca45821ff8ef1e749914313198">UartParityMode</a>&#160;</td>
          <td class="paramname"><em>Parity_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;{</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#a40f6d25d96053400829579d41169bb50">UART_PARITY</a> |<a class="code" href="driver_2uart__register_8h.html#a03ce06034f763597b231b722bc1a9571">UART_PARITY_EN</a>);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">if</span>(Parity_mode==<a class="code" href="driver_2uart_8h.html#acb045cca45821ff8ef1e749914313198a5a1ab0777b7aa1690bc8c53bcd0cf3b4">NONE_BITS</a>){</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), Parity_mode|<a class="code" href="driver_2uart__register_8h.html#a03ce06034f763597b231b722bc1a9571">UART_PARITY_EN</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_a92e318703bd3a12db8856182b046f76f"><div class="ttname"><a href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a></div><div class="ttdeci">#define UART_CONF0(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:100</div></div>
<div class="ttc" id="eagle__soc_8h_html_a49d2f71a1c594fe3aaf913ba9de688f9"><div class="ttname"><a href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a></div><div class="ttdeci">#define CLEAR_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:70</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a40f6d25d96053400829579d41169bb50"><div class="ttname"><a href="driver_2uart__register_8h.html#a40f6d25d96053400829579d41169bb50">UART_PARITY</a></div><div class="ttdeci">#define UART_PARITY</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:127</div></div>
<div class="ttc" id="driver_2uart_8h_html_acb045cca45821ff8ef1e749914313198a5a1ab0777b7aa1690bc8c53bcd0cf3b4"><div class="ttname"><a href="driver_2uart_8h.html#acb045cca45821ff8ef1e749914313198a5a1ab0777b7aa1690bc8c53bcd0cf3b4">NONE_BITS</a></div><div class="ttdef"><b>Definition:</b> driver/uart.h:73</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a03ce06034f763597b231b722bc1a9571"><div class="ttname"><a href="driver_2uart__register_8h.html#a03ce06034f763597b231b722bc1a9571">UART_PARITY_EN</a></div><div class="ttdeci">#define UART_PARITY_EN</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:124</div></div>
<div class="ttc" id="eagle__soc_8h_html_aa517f1b5879c555db159ad34fea2475f"><div class="ttname"><a href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a></div><div class="ttdeci">#define SET_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:71</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af275ab2b2b288f6b6dee19efec769303"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_SetBaudrate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td>
          <td class="paramname"><em>baud_rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;{</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    uart_div_modify(uart_no, <a class="code" href="eagle__soc_8h.html#acfca4084d0fefc311b562280a534e42d">UART_CLK_FREQ</a> /baud_rate);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div>
<div class="ttc" id="eagle__soc_8h_html_acfca4084d0fefc311b562280a534e42d"><div class="ttname"><a href="eagle__soc_8h.html#acfca4084d0fefc311b562280a534e42d">UART_CLK_FREQ</a></div><div class="ttdeci">#define UART_CLK_FREQ</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:78</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa260f8cc38438aef038bfc3700461c3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_SetFlowCtrl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="driver_2uart_8h.html#a725055e078e0a5737bf6b27ee4c02703">UART_HwFlowCtrl</a>&#160;</td>
          <td class="paramname"><em>flow_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>rx_thresh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;{</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">if</span>(flow_ctrl&amp;<a class="code" href="driver_2uart_8h.html#a725055e078e0a5737bf6b27ee4c02703abc4b3a0087a4d73f871f1ed85ec85e32">USART_HardwareFlowControl_RTS</a>){</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        <a class="code" href="eagle__soc_8h.html#a06a669a21ddeb7fbee7cca6703ca34ac">PIN_FUNC_SELECT</a>(<a class="code" href="eagle__soc_8h.html#a2cbaa3bc29b2f9c3c048839fb87214a5">PERIPHS_IO_MUX_MTDO_U</a>, <a class="code" href="eagle__soc_8h.html#a15c11b7eea434f3c08db4d0e04bb53a5">FUNC_U0RTS</a>);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <a class="code" href="eagle__soc_8h.html#acb32c0786c849675ccb667b47175c638">SET_PERI_REG_BITS</a>(<a class="code" href="driver_2uart__register_8h.html#a81c32d64217c77d3a3c2a1cc60ae8afc">UART_CONF1</a>(uart_no),<a class="code" href="driver_2uart__register_8h.html#ac05e8257122c3b65c3f8902a06b51393">UART_RX_FLOW_THRHD</a>,rx_thresh,<a class="code" href="driver_2uart__register_8h.html#af5ae14dc7323ed4a34b29bacbd7dd71b">UART_RX_FLOW_THRHD_S</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a81c32d64217c77d3a3c2a1cc60ae8afc">UART_CONF1</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#a178055db273bd87000f4ce71f8e87a79">UART_RX_FLOW_EN</a>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <a class="code" href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a81c32d64217c77d3a3c2a1cc60ae8afc">UART_CONF1</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#a178055db273bd87000f4ce71f8e87a79">UART_RX_FLOW_EN</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span>(flow_ctrl&amp;<a class="code" href="driver_2uart_8h.html#a725055e078e0a5737bf6b27ee4c02703a98a7de39ea32c919fa3ccd9643d0cca6">USART_HardwareFlowControl_CTS</a>){</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <a class="code" href="eagle__soc_8h.html#a06a669a21ddeb7fbee7cca6703ca34ac">PIN_FUNC_SELECT</a>(<a class="code" href="eagle__soc_8h.html#a59b294e607654219ceeff941aedf5e8e">PERIPHS_IO_MUX_MTCK_U</a>, <a class="code" href="driver_2uart_8h.html#ac6d3fdc3ed6bcd3492ec2c3c418a562b">FUNC_UART0_CTS</a>);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#a3d4d6a8090a080e81c9193a59f46e24c">UART_TX_FLOW_EN</a>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <a class="code" href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#a3d4d6a8090a080e81c9193a59f46e24c">UART_TX_FLOW_EN</a>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div>
<div class="ttc" id="eagle__soc_8h_html_a06a669a21ddeb7fbee7cca6703ca34ac"><div class="ttname"><a href="eagle__soc_8h.html#a06a669a21ddeb7fbee7cca6703ca34ac">PIN_FUNC_SELECT</a></div><div class="ttdeci">#define PIN_FUNC_SELECT(PIN_NAME, FUNC)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:270</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a92e318703bd3a12db8856182b046f76f"><div class="ttname"><a href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a></div><div class="ttdeci">#define UART_CONF0(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:100</div></div>
<div class="ttc" id="eagle__soc_8h_html_a15c11b7eea434f3c08db4d0e04bb53a5"><div class="ttname"><a href="eagle__soc_8h.html#a15c11b7eea434f3c08db4d0e04bb53a5">FUNC_U0RTS</a></div><div class="ttdeci">#define FUNC_U0RTS</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:227</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a178055db273bd87000f4ce71f8e87a79"><div class="ttname"><a href="driver_2uart__register_8h.html#a178055db273bd87000f4ce71f8e87a79">UART_RX_FLOW_EN</a></div><div class="ttdeci">#define UART_RX_FLOW_EN</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:135</div></div>
<div class="ttc" id="eagle__soc_8h_html_a59b294e607654219ceeff941aedf5e8e"><div class="ttname"><a href="eagle__soc_8h.html#a59b294e607654219ceeff941aedf5e8e">PERIPHS_IO_MUX_MTCK_U</a></div><div class="ttdeci">#define PERIPHS_IO_MUX_MTCK_U</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:221</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a3d4d6a8090a080e81c9193a59f46e24c"><div class="ttname"><a href="driver_2uart__register_8h.html#a3d4d6a8090a080e81c9193a59f46e24c">UART_TX_FLOW_EN</a></div><div class="ttdeci">#define UART_TX_FLOW_EN</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:110</div></div>
<div class="ttc" id="eagle__soc_8h_html_a49d2f71a1c594fe3aaf913ba9de688f9"><div class="ttname"><a href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a></div><div class="ttdeci">#define CLEAR_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:70</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac05e8257122c3b65c3f8902a06b51393"><div class="ttname"><a href="driver_2uart__register_8h.html#ac05e8257122c3b65c3f8902a06b51393">UART_RX_FLOW_THRHD</a></div><div class="ttdeci">#define UART_RX_FLOW_THRHD</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:136</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a81c32d64217c77d3a3c2a1cc60ae8afc"><div class="ttname"><a href="driver_2uart__register_8h.html#a81c32d64217c77d3a3c2a1cc60ae8afc">UART_CONF1</a></div><div class="ttdeci">#define UART_CONF1(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:131</div></div>
<div class="ttc" id="eagle__soc_8h_html_a2cbaa3bc29b2f9c3c048839fb87214a5"><div class="ttname"><a href="eagle__soc_8h.html#a2cbaa3bc29b2f9c3c048839fb87214a5">PERIPHS_IO_MUX_MTDO_U</a></div><div class="ttdeci">#define PERIPHS_IO_MUX_MTDO_U</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:225</div></div>
<div class="ttc" id="driver_2uart_8h_html_ac6d3fdc3ed6bcd3492ec2c3c418a562b"><div class="ttname"><a href="driver_2uart_8h.html#ac6d3fdc3ed6bcd3492ec2c3c418a562b">FUNC_UART0_CTS</a></div><div class="ttdeci">#define FUNC_UART0_CTS</div><div class="ttdef"><b>Definition:</b> driver/uart.h:222</div></div>
<div class="ttc" id="driver_2uart_8h_html_a725055e078e0a5737bf6b27ee4c02703a98a7de39ea32c919fa3ccd9643d0cca6"><div class="ttname"><a href="driver_2uart_8h.html#a725055e078e0a5737bf6b27ee4c02703a98a7de39ea32c919fa3ccd9643d0cca6">USART_HardwareFlowControl_CTS</a></div><div class="ttdef"><b>Definition:</b> driver/uart.h:120</div></div>
<div class="ttc" id="eagle__soc_8h_html_aa517f1b5879c555db159ad34fea2475f"><div class="ttname"><a href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a></div><div class="ttdeci">#define SET_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:71</div></div>
<div class="ttc" id="eagle__soc_8h_html_acb32c0786c849675ccb667b47175c638"><div class="ttname"><a href="eagle__soc_8h.html#acb32c0786c849675ccb667b47175c638">SET_PERI_REG_BITS</a></div><div class="ttdeci">#define SET_PERI_REG_BITS(reg, bit_map, value, shift)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:73</div></div>
<div class="ttc" id="driver_2uart_8h_html_a725055e078e0a5737bf6b27ee4c02703abc4b3a0087a4d73f871f1ed85ec85e32"><div class="ttname"><a href="driver_2uart_8h.html#a725055e078e0a5737bf6b27ee4c02703abc4b3a0087a4d73f871f1ed85ec85e32">USART_HardwareFlowControl_RTS</a></div><div class="ttdef"><b>Definition:</b> driver/uart.h:119</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_af5ae14dc7323ed4a34b29bacbd7dd71b"><div class="ttname"><a href="driver_2uart__register_8h.html#af5ae14dc7323ed4a34b29bacbd7dd71b">UART_RX_FLOW_THRHD_S</a></div><div class="ttdeci">#define UART_RX_FLOW_THRHD_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:137</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a460e7b30e59165c59ea6e4c2124085d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_WaitTxFifoEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td>
          <td class="paramname"><em>time_out_us</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;{</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> t_s = <a class="code" href="user__interface_8h.html#aff40fbcef002e346e8f36c378cf75d86">system_get_time</a>();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">while</span> (<a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a>(uart_no)) &amp; (<a class="code" href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a> &lt;&lt; <a class="code" href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a>)){</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">if</span>(( <a class="code" href="user__interface_8h.html#aff40fbcef002e346e8f36c378cf75d86">system_get_time</a>() - t_s )&gt; time_out_us){</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(0X60000914, 0X73);<span class="comment">//WTD</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    }</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_a450a8df365d3306ea53de5763b6a51e5"><div class="ttname"><a href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a></div><div class="ttdeci">#define UART_TXFIFO_CNT_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:93</div></div>
<div class="ttc" id="eagle__soc_8h_html_a14c110c5360780defb1aa84ff53933d3"><div class="ttname"><a href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a></div><div class="ttdeci">#define READ_PERI_REG(addr)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:68</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a95d6f1cf76090799914abd3fccfa8a96"><div class="ttname"><a href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a></div><div class="ttdeci">#define UART_TXFIFO_CNT</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:92</div></div>
<div class="ttc" id="user__interface_8h_html_aff40fbcef002e346e8f36c378cf75d86"><div class="ttname"><a href="user__interface_8h.html#aff40fbcef002e346e8f36c378cf75d86">system_get_time</a></div><div class="ttdeci">uint32 system_get_time(void)</div></div>
<div class="ttc" id="eagle__soc_8h_html_a771037d188a1c185dd90c2019a896d03"><div class="ttname"><a href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a></div><div class="ttdeci">#define WRITE_PERI_REG(addr, val)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:69</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aa069c3a91501d33accc3c760840fd29a"><div class="ttname"><a href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a></div><div class="ttdeci">#define UART_STATUS(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:88</div></div>
<div class="ttc" id="c__types_8h_html_a1134b580f8da4de94ca6b1de4d37975e"><div class="ttname"><a href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdef"><b>Definition:</b> c_types.h:52</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a460e7b30e59165c59ea6e4c2124085d2_cgraph.png" border="0" usemap="#uart_8c_a460e7b30e59165c59ea6e4c2124085d2_cgraph" alt=""/></div>
<map name="uart_8c_a460e7b30e59165c59ea6e4c2124085d2_cgraph" id="uart_8c_a460e7b30e59165c59ea6e4c2124085d2_cgraph">
<area shape="rect" id="node2" href="user__interface_8h.html#aff40fbcef002e346e8f36c378cf75d86" title="system_get_time" alt="" coords="216,5,339,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a10234052f8f75ab50480aae6e3d88634"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_CheckOutputFinished </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td>
          <td class="paramname"><em>time_out_us</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;{</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> t_start = <a class="code" href="user__interface_8h.html#aff40fbcef002e346e8f36c378cf75d86">system_get_time</a>();</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <a class="code" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a> tx_fifo_len;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <a class="code" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a> tx_buff_len;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">while</span>(1){</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        tx_fifo_len =( (<a class="code" href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a>(uart_no))&gt;&gt;<a class="code" href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a>)&amp;<a class="code" href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a>);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="uart_8c.html#ab081a3724478b5ab806f8729fa10def7">pTxBuffer</a>){</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            tx_buff_len = ((<a class="code" href="uart_8c.html#ab081a3724478b5ab806f8729fa10def7">pTxBuffer</a>-&gt;<a class="code" href="struct_uart_buffer.html#a720820e62bc949a351a919d8107e22b0">UartBuffSize</a>)-(<a class="code" href="uart_8c.html#ab081a3724478b5ab806f8729fa10def7">pTxBuffer</a>-&gt;<a class="code" href="struct_uart_buffer.html#a905b671e9d0249dfcad2d5169d08a95a">Space</a>));</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            tx_buff_len = 0;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <span class="keywordflow">if</span>( tx_fifo_len==0 &amp;&amp; tx_buff_len==0){</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="c__types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="user__interface_8h.html#aff40fbcef002e346e8f36c378cf75d86">system_get_time</a>() - t_start &gt; time_out_us){</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="c__types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(0X60000914, 0X73);<span class="comment">//WTD</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    }    </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_a450a8df365d3306ea53de5763b6a51e5"><div class="ttname"><a href="driver_2uart__register_8h.html#a450a8df365d3306ea53de5763b6a51e5">UART_TXFIFO_CNT_S</a></div><div class="ttdeci">#define UART_TXFIFO_CNT_S</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:93</div></div>
<div class="ttc" id="eagle__soc_8h_html_a14c110c5360780defb1aa84ff53933d3"><div class="ttname"><a href="eagle__soc_8h.html#a14c110c5360780defb1aa84ff53933d3">READ_PERI_REG</a></div><div class="ttdeci">#define READ_PERI_REG(addr)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:68</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a95d6f1cf76090799914abd3fccfa8a96"><div class="ttname"><a href="driver_2uart__register_8h.html#a95d6f1cf76090799914abd3fccfa8a96">UART_TXFIFO_CNT</a></div><div class="ttdeci">#define UART_TXFIFO_CNT</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:92</div></div>
<div class="ttc" id="c__types_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="c__types_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> c_types.h:109</div></div>
<div class="ttc" id="c__types_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="c__types_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> c_types.h:108</div></div>
<div class="ttc" id="user__interface_8h_html_aff40fbcef002e346e8f36c378cf75d86"><div class="ttname"><a href="user__interface_8h.html#aff40fbcef002e346e8f36c378cf75d86">system_get_time</a></div><div class="ttdeci">uint32 system_get_time(void)</div></div>
<div class="ttc" id="eagle__soc_8h_html_a771037d188a1c185dd90c2019a896d03"><div class="ttname"><a href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a></div><div class="ttdeci">#define WRITE_PERI_REG(addr, val)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:69</div></div>
<div class="ttc" id="struct_uart_buffer_html_a905b671e9d0249dfcad2d5169d08a95a"><div class="ttname"><a href="struct_uart_buffer.html#a905b671e9d0249dfcad2d5169d08a95a">UartBuffer::Space</a></div><div class="ttdeci">uint16 Space</div><div class="ttdef"><b>Definition:</b> driver/uart.h:181</div></div>
<div class="ttc" id="c__types_8h_html_adde6aaee8457bee49c2a92621fe22b79"><div class="ttname"><a href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a></div><div class="ttdeci">unsigned char uint8</div><div class="ttdef"><b>Definition:</b> c_types.h:43</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aa069c3a91501d33accc3c760840fd29a"><div class="ttname"><a href="driver_2uart__register_8h.html#aa069c3a91501d33accc3c760840fd29a">UART_STATUS</a></div><div class="ttdeci">#define UART_STATUS(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:88</div></div>
<div class="ttc" id="c__types_8h_html_a1134b580f8da4de94ca6b1de4d37975e"><div class="ttname"><a href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdef"><b>Definition:</b> c_types.h:52</div></div>
<div class="ttc" id="uart_8c_html_ab081a3724478b5ab806f8729fa10def7"><div class="ttname"><a href="uart_8c.html#ab081a3724478b5ab806f8729fa10def7">pTxBuffer</a></div><div class="ttdeci">LOCAL struct UartBuffer * pTxBuffer</div><div class="ttdef"><b>Definition:</b> uart.c:44</div></div>
<div class="ttc" id="struct_uart_buffer_html_a720820e62bc949a351a919d8107e22b0"><div class="ttname"><a href="struct_uart_buffer.html#a720820e62bc949a351a919d8107e22b0">UartBuffer::UartBuffSize</a></div><div class="ttdeci">uint32 UartBuffSize</div><div class="ttdef"><b>Definition:</b> driver/uart.h:176</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a10234052f8f75ab50480aae6e3d88634_cgraph.png" border="0" usemap="#uart_8c_a10234052f8f75ab50480aae6e3d88634_cgraph" alt=""/></div>
<map name="uart_8c_a10234052f8f75ab50480aae6e3d88634_cgraph" id="uart_8c_a10234052f8f75ab50480aae6e3d88634_cgraph">
<area shape="rect" id="node2" href="user__interface_8h.html#aff40fbcef002e346e8f36c378cf75d86" title="system_get_time" alt="" coords="241,5,364,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adac26664d38cc428d7fa90d948f7fd0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_ResetFifo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;{</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#ac7ce3d2ea688e9812d8758ce36d88b3e">UART_RXFIFO_RST</a> | <a class="code" href="driver_2uart__register_8h.html#aea9aaa17f3b5847f810191afe34de2db">UART_TXFIFO_RST</a>);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a>(uart_no), <a class="code" href="driver_2uart__register_8h.html#ac7ce3d2ea688e9812d8758ce36d88b3e">UART_RXFIFO_RST</a> | <a class="code" href="driver_2uart__register_8h.html#aea9aaa17f3b5847f810191afe34de2db">UART_TXFIFO_RST</a>);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_a92e318703bd3a12db8856182b046f76f"><div class="ttname"><a href="driver_2uart__register_8h.html#a92e318703bd3a12db8856182b046f76f">UART_CONF0</a></div><div class="ttdeci">#define UART_CONF0(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:100</div></div>
<div class="ttc" id="eagle__soc_8h_html_a49d2f71a1c594fe3aaf913ba9de688f9"><div class="ttname"><a href="eagle__soc_8h.html#a49d2f71a1c594fe3aaf913ba9de688f9">CLEAR_PERI_REG_MASK</a></div><div class="ttdeci">#define CLEAR_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:70</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_ac7ce3d2ea688e9812d8758ce36d88b3e"><div class="ttname"><a href="driver_2uart__register_8h.html#ac7ce3d2ea688e9812d8758ce36d88b3e">UART_RXFIFO_RST</a></div><div class="ttdeci">#define UART_RXFIFO_RST</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:108</div></div>
<div class="ttc" id="eagle__soc_8h_html_aa517f1b5879c555db159ad34fea2475f"><div class="ttname"><a href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a></div><div class="ttdeci">#define SET_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:71</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_aea9aaa17f3b5847f810191afe34de2db"><div class="ttname"><a href="driver_2uart__register_8h.html#aea9aaa17f3b5847f810191afe34de2db">UART_TXFIFO_RST</a></div><div class="ttdeci">#define UART_TXFIFO_RST</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:107</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6ed35c7af52ca37f3b8a619681bf550d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_ClearIntrStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td>
          <td class="paramname"><em>clr_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;{</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a>(<a class="code" href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a>(uart_no), clr_mask);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div>
<div class="ttc" id="eagle__soc_8h_html_a771037d188a1c185dd90c2019a896d03"><div class="ttname"><a href="eagle__soc_8h.html#a771037d188a1c185dd90c2019a896d03">WRITE_PERI_REG</a></div><div class="ttdeci">#define WRITE_PERI_REG(addr, val)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:69</div></div>
<div class="ttc" id="driver_2uart__register_8h_html_a4a450c7ddda3d960c70a0ceac5e19b9b"><div class="ttname"><a href="driver_2uart__register_8h.html#a4a450c7ddda3d960c70a0ceac5e19b9b">UART_INT_CLR</a></div><div class="ttdeci">#define UART_INT_CLR(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:68</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a848b658530b38972f0b7de8d941ff375"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_SetIntrEna </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>&#160;</td>
          <td class="paramname"><em>ena_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;{</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a>(<a class="code" href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a>(uart_no), ena_mask);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;}</div>
<div class="ttc" id="driver_2uart__register_8h_html_ac6ce538b7a0389b41640e89990d0d76d"><div class="ttname"><a href="driver_2uart__register_8h.html#ac6ce538b7a0389b41640e89990d0d76d">UART_INT_ENA</a></div><div class="ttdeci">#define UART_INT_ENA(i)</div><div class="ttdef"><b>Definition:</b> driver/uart_register.h:57</div></div>
<div class="ttc" id="eagle__soc_8h_html_aa517f1b5879c555db159ad34fea2475f"><div class="ttname"><a href="eagle__soc_8h.html#aa517f1b5879c555db159ad34fea2475f">SET_PERI_REG_MASK</a></div><div class="ttdeci">#define SET_PERI_REG_MASK(reg, mask)</div><div class="ttdef"><b>Definition:</b> eagle_soc.h:71</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a049f0d5eba74bf0f2fb7021964d6af54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> UART_SetPrintPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="c__types_8h.html#adde6aaee8457bee49c2a92621fe22b79">uint8</a>&#160;</td>
          <td class="paramname"><em>uart_no</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;{</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span>(uart_no==1){</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <a class="code" href="osapi_8h.html#ae7f59b6396b3ea63e842fc2cd14b1a40">os_install_putc1</a>(<a class="code" href="uart_8c.html#a421a8c124d7ff816cd70587fffc64d0e">uart1_write_char</a>);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    }<span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        <span class="comment">/*option 1: do not wait if uart fifo is full,drop current character*/</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <a class="code" href="osapi_8h.html#ae7f59b6396b3ea63e842fc2cd14b1a40">os_install_putc1</a>(<a class="code" href="uart_8c.html#ac6574203b3e972e584ebf57acb04f6b4">uart0_write_char_no_wait</a>);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">/*option 2: wait for a while if uart fifo is full*/</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="osapi_8h.html#ae7f59b6396b3ea63e842fc2cd14b1a40">os_install_putc1</a>(<a class="code" href="uart_8c.html#ae515be6247217577f929156f37332723">uart0_write_char</a>);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;}</div>
<div class="ttc" id="uart_8c_html_a421a8c124d7ff816cd70587fffc64d0e"><div class="ttname"><a href="uart_8c.html#a421a8c124d7ff816cd70587fffc64d0e">uart1_write_char</a></div><div class="ttdeci">LOCAL void ICACHE_FLASH_ATTR uart1_write_char(char c)</div><div class="ttdef"><b>Definition:</b> uart.c:148</div></div>
<div class="ttc" id="uart_8c_html_ae515be6247217577f929156f37332723"><div class="ttname"><a href="uart_8c.html#ae515be6247217577f929156f37332723">uart0_write_char</a></div><div class="ttdeci">LOCAL void uart0_write_char(char c)</div><div class="ttdef"><b>Definition:</b> uart.c:670</div></div>
<div class="ttc" id="osapi_8h_html_ae7f59b6396b3ea63e842fc2cd14b1a40"><div class="ttname"><a href="osapi_8h.html#ae7f59b6396b3ea63e842fc2cd14b1a40">os_install_putc1</a></div><div class="ttdeci">#define os_install_putc1</div><div class="ttdef"><b>Definition:</b> osapi.h:33</div></div>
<div class="ttc" id="uart_8c_html_ac6574203b3e972e584ebf57acb04f6b4"><div class="ttname"><a href="uart_8c.html#ac6574203b3e972e584ebf57acb04f6b4">uart0_write_char_no_wait</a></div><div class="ttdeci">LOCAL void ICACHE_FLASH_ATTR uart0_write_char_no_wait(char c)</div><div class="ttdef"><b>Definition:</b> uart.c:162</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a049f0d5eba74bf0f2fb7021964d6af54_cgraph.png" border="0" usemap="#uart_8c_a049f0d5eba74bf0f2fb7021964d6af54_cgraph" alt=""/></div>
<map name="uart_8c_a049f0d5eba74bf0f2fb7021964d6af54_cgraph" id="uart_8c_a049f0d5eba74bf0f2fb7021964d6af54_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#a421a8c124d7ff816cd70587fffc64d0e" title="uart1_write_char" alt="" coords="213,5,331,32"/><area shape="rect" id="node4" href="uart_8c.html#ac6574203b3e972e584ebf57acb04f6b4" title="uart0_write_char_no_wait" alt="" coords="188,107,356,133"/><area shape="rect" id="node7" href="uart_8c.html#ae515be6247217577f929156f37332723" title="uart0_write_char" alt="" coords="213,56,331,83"/><area shape="rect" id="node3" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="429,19,552,45"/><area shape="rect" id="node5" href="driver_2uart_8h.html#a9fd2e5dba086df474beadf9068d4892f" title="tx_buff_enq" alt="" coords="447,81,535,108"/><area shape="rect" id="node6" href="uart_8c.html#a049fe09b0bc6d87a403c418e5f681945" title="uart_tx_one_char_no_wait" alt="" coords="404,132,577,159"/></map>
</div>
</p>

<p><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a049f0d5eba74bf0f2fb7021964d6af54_icgraph.png" border="0" usemap="#uart_8c_a049f0d5eba74bf0f2fb7021964d6af54_icgraph" alt=""/></div>
<map name="uart_8c_a049f0d5eba74bf0f2fb7021964d6af54_icgraph" id="uart_8c_a049f0d5eba74bf0f2fb7021964d6af54_icgraph">
<area shape="rect" id="node2" href="user__main_8c.html#a277ffa60e88142c231a14272962e902c" title="user_init" alt="" coords="188,5,259,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04be0eb8c6c4685b81b32b20bb1cfa72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="c__types_8h.html#afebd45c0d36db732504450393777ce5c">ICACHE_FLASH_ATTR</a> uart_init_2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545d">UartBautRate</a>&#160;</td>
          <td class="paramname"><em>uart0_br</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="driver_2uart_8h.html#a6e376e04a3f78e8319a5dcd9ee6d545d">UartBautRate</a>&#160;</td>
          <td class="paramname"><em>uart1_br</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;{</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="comment">// rom use 74880 baut_rate, here reinitialize</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#a1a6982e54a4c80d03248d97aa4e7f57c">baut_rate</a> = uart0_br;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#ab0dbde04e07cf399428582ce9d8bc43d">exist_parity</a> = <a class="code" href="driver_2uart_8h.html#a68b6c81a0e4cc772adaa5217c9b60772aa24f99010fca5c7c06333b56ca7df95b">STICK_PARITY_EN</a>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#aaa1f4b3ac8e9a72e0701105ad7d8078e">parity</a> = <a class="code" href="driver_2uart_8h.html#acb045cca45821ff8ef1e749914313198a66c3ca69e642285e5b8f997c355cf351">EVEN_BITS</a>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#a4c196eb55ccaa09061a843bbe47d29dc">stop_bits</a> = <a class="code" href="driver_2uart_8h.html#a0ecb1f01cc124cfef8bb7dbfe6c9c1d5a6eeea76902d4b6897be064d86695dadd">ONE_STOP_BIT</a>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#ae8f01df67cbdc9fad5e8b66fd03907d6">data_bits</a> = <a class="code" href="driver_2uart_8h.html#a1a800ab02eb9805becdea40a047e2e25a2764598629b0667f4c0175eaa321f593">EIGHT_BITS</a>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <a class="code" href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6">uart_config</a>(<a class="code" href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a>);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <a class="code" href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a>.<a class="code" href="struct_uart_device.html#a1a6982e54a4c80d03248d97aa4e7f57c">baut_rate</a> = uart1_br;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <a class="code" href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6">uart_config</a>(<a class="code" href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a>);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <a class="code" href="ets__sys_8h.html#adcb1c98e19fde806010cbbc84880407a">ETS_UART_INTR_ENABLE</a>();</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="comment">// install uart1 putc callback</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <a class="code" href="osapi_8h.html#ae7f59b6396b3ea63e842fc2cd14b1a40">os_install_putc1</a>((<span class="keywordtype">void</span> *)<a class="code" href="uart_8c.html#a421a8c124d7ff816cd70587fffc64d0e">uart1_write_char</a>);<span class="comment">//print output at UART1</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;}</div>
<div class="ttc" id="driver_2uart_8h_html_a0ecb1f01cc124cfef8bb7dbfe6c9c1d5a6eeea76902d4b6897be064d86695dadd"><div class="ttname"><a href="driver_2uart_8h.html#a0ecb1f01cc124cfef8bb7dbfe6c9c1d5a6eeea76902d4b6897be064d86695dadd">ONE_STOP_BIT</a></div><div class="ttdef"><b>Definition:</b> driver/uart.h:67</div></div>
<div class="ttc" id="driver_2uart_8h_html_acb045cca45821ff8ef1e749914313198a66c3ca69e642285e5b8f997c355cf351"><div class="ttname"><a href="driver_2uart_8h.html#acb045cca45821ff8ef1e749914313198a66c3ca69e642285e5b8f997c355cf351">EVEN_BITS</a></div><div class="ttdef"><b>Definition:</b> driver/uart.h:75</div></div>
<div class="ttc" id="uart_8c_html_a421a8c124d7ff816cd70587fffc64d0e"><div class="ttname"><a href="uart_8c.html#a421a8c124d7ff816cd70587fffc64d0e">uart1_write_char</a></div><div class="ttdeci">LOCAL void ICACHE_FLASH_ATTR uart1_write_char(char c)</div><div class="ttdef"><b>Definition:</b> uart.c:148</div></div>
<div class="ttc" id="ets__sys_8h_html_adcb1c98e19fde806010cbbc84880407a"><div class="ttname"><a href="ets__sys_8h.html#adcb1c98e19fde806010cbbc84880407a">ETS_UART_INTR_ENABLE</a></div><div class="ttdeci">#define ETS_UART_INTR_ENABLE()</div><div class="ttdef"><b>Definition:</b> ets_sys.h:93</div></div>
<div class="ttc" id="struct_uart_device_html_a1a6982e54a4c80d03248d97aa4e7f57c"><div class="ttname"><a href="struct_uart_device.html#a1a6982e54a4c80d03248d97aa4e7f57c">UartDevice::baut_rate</a></div><div class="ttdeci">UartBautRate baut_rate</div><div class="ttdef"><b>Definition:</b> driver/uart.h:153</div></div>
<div class="ttc" id="driver_2uart_8h_html_a1a800ab02eb9805becdea40a047e2e25a2764598629b0667f4c0175eaa321f593"><div class="ttname"><a href="driver_2uart_8h.html#a1a800ab02eb9805becdea40a047e2e25a2764598629b0667f4c0175eaa321f593">EIGHT_BITS</a></div><div class="ttdef"><b>Definition:</b> driver/uart.h:63</div></div>
<div class="ttc" id="struct_uart_device_html_aaa1f4b3ac8e9a72e0701105ad7d8078e"><div class="ttname"><a href="struct_uart_device.html#aaa1f4b3ac8e9a72e0701105ad7d8078e">UartDevice::parity</a></div><div class="ttdeci">UartParityMode parity</div><div class="ttdef"><b>Definition:</b> driver/uart.h:156</div></div>
<div class="ttc" id="osapi_8h_html_ae7f59b6396b3ea63e842fc2cd14b1a40"><div class="ttname"><a href="osapi_8h.html#ae7f59b6396b3ea63e842fc2cd14b1a40">os_install_putc1</a></div><div class="ttdeci">#define os_install_putc1</div><div class="ttdef"><b>Definition:</b> osapi.h:33</div></div>
<div class="ttc" id="uart_8c_html_a489b77b74dfee22fd4f0c5323ab44da6"><div class="ttname"><a href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6">uart_config</a></div><div class="ttdeci">LOCAL void ICACHE_FLASH_ATTR uart_config(uint8 uart_no)</div><div class="ttdef"><b>Definition:</b> uart.c:70</div></div>
<div class="ttc" id="struct_uart_device_html_ae8f01df67cbdc9fad5e8b66fd03907d6"><div class="ttname"><a href="struct_uart_device.html#ae8f01df67cbdc9fad5e8b66fd03907d6">UartDevice::data_bits</a></div><div class="ttdeci">UartBitsNum4Char data_bits</div><div class="ttdef"><b>Definition:</b> driver/uart.h:154</div></div>
<div class="ttc" id="struct_uart_device_html_ab0dbde04e07cf399428582ce9d8bc43d"><div class="ttname"><a href="struct_uart_device.html#ab0dbde04e07cf399428582ce9d8bc43d">UartDevice::exist_parity</a></div><div class="ttdeci">UartExistParity exist_parity</div><div class="ttdef"><b>Definition:</b> driver/uart.h:155</div></div>
<div class="ttc" id="driver_2uart_8h_html_a0508661f121639ffdee7de2353a0def2"><div class="ttname"><a href="driver_2uart_8h.html#a0508661f121639ffdee7de2353a0def2">UART0</a></div><div class="ttdeci">#define UART0</div><div class="ttdef"><b>Definition:</b> driver/uart.h:56</div></div>
<div class="ttc" id="struct_uart_device_html_a4c196eb55ccaa09061a843bbe47d29dc"><div class="ttname"><a href="struct_uart_device.html#a4c196eb55ccaa09061a843bbe47d29dc">UartDevice::stop_bits</a></div><div class="ttdeci">UartStopBitsNum stop_bits</div><div class="ttdef"><b>Definition:</b> driver/uart.h:157</div></div>
<div class="ttc" id="uart_8c_html_abe863f238818002e1dd96aad8a48c927"><div class="ttname"><a href="uart_8c.html#abe863f238818002e1dd96aad8a48c927">UartDev</a></div><div class="ttdeci">UartDevice UartDev</div></div>
<div class="ttc" id="driver_2uart_8h_html_a8d69bf04d07af4fbbab5a8bd291f65ff"><div class="ttname"><a href="driver_2uart_8h.html#a8d69bf04d07af4fbbab5a8bd291f65ff">UART1</a></div><div class="ttdeci">#define UART1</div><div class="ttdef"><b>Definition:</b> driver/uart.h:57</div></div>
<div class="ttc" id="driver_2uart_8h_html_a68b6c81a0e4cc772adaa5217c9b60772aa24f99010fca5c7c06333b56ca7df95b"><div class="ttname"><a href="driver_2uart_8h.html#a68b6c81a0e4cc772adaa5217c9b60772aa24f99010fca5c7c06333b56ca7df95b">STICK_PARITY_EN</a></div><div class="ttdef"><b>Definition:</b> driver/uart.h:80</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="uart_8c_a04be0eb8c6c4685b81b32b20bb1cfa72_cgraph.png" border="0" usemap="#uart_8c_a04be0eb8c6c4685b81b32b20bb1cfa72_cgraph" alt=""/></div>
<map name="uart_8c_a04be0eb8c6c4685b81b32b20bb1cfa72_cgraph" id="uart_8c_a04be0eb8c6c4685b81b32b20bb1cfa72_cgraph">
<area shape="rect" id="node2" href="uart_8c.html#a489b77b74dfee22fd4f0c5323ab44da6" title="uart_config" alt="" coords="152,56,237,83"/><area shape="rect" id="node7" href="uart_8c.html#a421a8c124d7ff816cd70587fffc64d0e" title="uart1_write_char" alt="" coords="136,107,253,133"/><area shape="rect" id="node3" href="uart_8c.html#a899cd55c7d84717f3e869e4ee5bfda84" title="uart0_rx_intr_handler" alt="" coords="301,56,444,83"/><area shape="rect" id="node4" href="uart_8c.html#a66498d65854712e438ab711b511e0155" title="uart_rx_intr_disable" alt="" coords="492,5,627,32"/><area shape="rect" id="node5" href="user__interface_8h.html#adab1155f3a463f2b05a9bde65b37514f" title="system_os_post" alt="" coords="500,56,619,83"/><area shape="rect" id="node6" href="driver_2uart_8h.html#ae4702ed894330fc8b2099cb90a5bf4aa" title="tx_start_uart_buffer" alt="" coords="493,107,626,133"/><area shape="rect" id="node8" href="uart_8c.html#a40bca7ca9b269f93bc9f17924a38fbe0" title="uart_tx_one_char" alt="" coords="311,107,434,133"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">变量说明</h2>
<a class="anchor" id="abe863f238818002e1dd96aad8a48c927"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_uart_device.html">UartDevice</a> UartDev</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab081a3724478b5ab806f8729fa10def7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> struct <a class="el" href="struct_uart_buffer.html">UartBuffer</a>* pTxBuffer = <a class="el" href="c__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae856c1f6c1dad0036ae5fb7e88eeed8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="c__types_8h.html#a3758dd5d300a594312c95bc393378df0">LOCAL</a> struct <a class="el" href="struct_uart_buffer.html">UartBuffer</a>* pRxBuffer = <a class="el" href="c__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7133fc66b588d16e614425d5985cacba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os__type_8h.html#a31c610c4705c01b07e272852f4bd17ca">os_event_t</a> uart_recvTaskQueue[<a class="el" href="uart_8c.html#ae3ba3d87871833cff3d51bcc96755e57">uart_recvTaskQueueLen</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
生成于 2020年 五月 9日 星期六 17:59:05 , 为 ESP8266 Centre + NB使用  &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
